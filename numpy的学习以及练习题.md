# Numpyåº“
## Numpyæ˜¯ä»€ä¹ˆ
Numpyæ˜¯Pythonä¸­æœ€åŸºç¡€ä¸”å¼ºå¤§çš„ç§‘å­¦è®¡ç®—åº“ä¹‹ä¸€ï¼Œä¸»è¦ç”¨äºé«˜æ•ˆå¤„ç†å¤šç»´æ•°æ®å’ŒçŸ©é˜µè¿ç®—ï¼ŒåŒæ—¶æä¾›äº†å¤§é‡çš„æ•°å­¦å‡½æ•°åº“ã€‚

## Numpyçš„æ ¸å¿ƒåŠŸèƒ½
1.å¤šç»´æ•°æ®å¯¹è±¡ï¼ˆndarrayï¼‰

ï¼ˆ1ï¼‰æä¾›é«˜æ€§èƒ½çš„Nç»´æ•°ç»„ï¼ˆå¦‚å‘é‡ï¼ŒçŸ©é˜µï¼Œå¼ é‡ï¼‰ï¼Œæ”¯æŒæ•°å€¼ï¼Œå¸ƒå°”ï¼Œå­—ç¬¦ä¸²ç­‰æ•°æ®ç±»å‹

ï¼ˆ2ï¼‰ç›¸æ¯”pythonåŸç”Ÿåˆ—è¡¨ï¼ŒNumpyæ•°ç»„è®¡ç®—é€Ÿåº¦æ›´å¿«ï¼ˆåº•å±‚ç”¨Cå®ç°ï¼‰ï¼Œå†…å­˜æ•ˆç‡æ›´é«˜

2.æ•°å­¦è¿ç®—

ï¼ˆ1ï¼‰æ”¯æŒå¿«é€Ÿçš„å‘é‡åŒ–è¿ç®—ï¼ˆæ— éœ€æ˜¾å¼å¾ªç¯ï¼‰ï¼Œä¾‹å¦‚åŠ å‡ä¹˜é™¤ï¼ŒçŸ©é˜µä¹˜æ³•ï¼Œå¹¿æ’­ç­‰

ï¼ˆ2ï¼‰å†…ç½®å¤§é‡æ•°å­¦å‡½æ•°ï¼ˆsinï¼Œlogï¼Œdotï¼Œsumï¼Œmeanï¼ŒFFTï¼‰ç­‰

3.å¹¿æ’­æœºåˆ¶

å…è®¸ä¸åŒå½¢çŠ¶çš„æ•°æ®è¿›è¡Œæ•°å­¦è¿ç®—ï¼ˆè‡ªåŠ¨æ‰©å±•ç»´åº¦ï¼‰

4.çº¿æ€§ä»£æ•°ï¼Œéšæœºæ•°ç”Ÿæˆï¼Œå‚…é‡Œå¶å˜æ¢ç­‰

æä¾›çº¿æ€§ä»£æ•°è¿ç®—ï¼Œï¼ˆå¦‚æ±‚é€†ï¼Œç‰¹å¾å€¼ï¼ŒSVDåˆ†è§£ï¼‰ï¼Œéšæœºæ•°ç”Ÿæˆï¼Œç»Ÿè®¡å‡½æ•°ç­‰

5.ä¸å…¶ä»–å·¥å…·é›†æˆ

å¯æ— ç¼è¡”æ¥Pandasï¼ˆæ•°æ®åˆ†æï¼‰ï¼ŒMatplotilbï¼ˆç»˜å›¾ï¼‰ï¼ŒScipyï¼ˆç§‘å­¦è®¡ç®—ï¼‰ç­‰åº“

## Numpyä½¿ç”¨éœ€æ±‚
Numpyçš„ä½¿ç”¨éœ€æ±‚å¹¿æ³›ï¼Œä¸»è¦é¢å‘éœ€è¦é«˜æ•ˆæ•°å€¼è®¡ç®—ï¼Œå¤§è§„æ¨¡æ•°æ®å¤„ç†æˆ–ç§‘å­¦è®¡ç®—çš„åœºæ™¯

ä»¥ä¸‹æ˜¯å¸¸è§çš„éœ€æ±‚åˆ†ç±»ï¼š

1.éœ€è¦é«˜æ€§èƒ½çš„æ•°å€¼è®¡ç®—ï¼ˆå¦‚å¤§è§„æ¨¡æ•°ç»„è¿ç®—ï¼‰

2.æ¶‰åŠæ•°å­¦/ç§‘å­¦è®¡ç®—ï¼ˆå¦‚çº¿æ€§ä»£æ•°ï¼Œç»Ÿè®¡ï¼‰

3.ä¸å…¶ä»–ç§‘å­¦è®¡ç®—åº“åä½œï¼ˆå¦‚Pandasï¼ŒSciPyï¼Œæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼‰

## Numpyåº”ç”¨åœºæ™¯
Numpyä½œä¸ºPythonç§‘å­¦è®¡ç®—çš„æ ¸å¿ƒåº“ï¼Œå…¶åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œå‡ ä¹è¦†ç›–æ‰€æœ‰éœ€è¦é«˜æ•ˆæ•°å€¼è®¡ç®—å’Œ

å¤šç»´æ•°æ®å¤„ç†çš„é¢†åŸŸ

ä»¥ä¸‹æ˜¯Numpyçš„å…¸å‹åº”ç”¨åœºæ™¯åŠå…·ä½“ç¤ºä¾‹ï¼š

1.ç§‘å­¦è®¡ç®—ä¸æ•°å€¼åˆ†æ

2.æ•°æ®ç§‘å­¦ä¸æœºå™¨å­¦ä¹ 

3.å›¾åƒå¤„ç†ä¸è®¡ç®—æœºè§†è§‰

4.ä¿¡å·å¤„ç†ä¸æ—¶é—´åºåˆ—åˆ†æ

5.é‡‘èä¸ç»æµå»ºæ¨¡

# Numpyç»ƒä¹ é¢˜ä¹‹åˆçº§ç»ƒä¹ é¢˜ æ•°ç»„åˆ›å»ºä¸åŸºæœ¬æ“ä½œ
## 1.åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10çš„ä¸€ç»´å…¨é›¶æ•°ç»„
import numpy as np 

a = np.zeros(10, dtype = int) # ç”±äºä¸åŠ dtypeçš„è¯ï¼Œè¾“å‡ºçš„ç±»å‹æ˜¯floatç±»å‹ï¼Œä¸æ»¡è¶³é¢˜æ„ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®šä¸ºintç±»å‹

print(a)

## 2.åˆ›å»ºä¸€ä¸ª3X3çš„äºŒç»´å…¨1æ•°ç»„ æ‹“å±• åˆ›å»ºä¸€ä¸ª3X3çš„äºŒç»´å…¨2æˆ–è€…3çš„æ•°ç»„çš„æ–¹æ³•
import numpy as np 

a = np.ones((3,3), dtype = int) 

***æ‹“å±• a = np.ones((3,3), dtype = int) + 2 æˆ–è€… 3 å¦ä¸€ç§æ–¹æ³•ä½¿ç”¨full()å‡½æ•° a = np.full((3,3),2 æˆ–è€… 3, dtype = int)***

print(a)

## 3.åˆ›å»ºä¸€ä¸ª5X5çš„å•ä½çŸ©é˜µ ï¼ˆå•ä½çŸ©é˜µ å¯¹è§’çº¿å…¨ä¸º1ï¼ˆä¹Ÿå°±æ˜¯ä»å·¦ä¸Šåˆ°å³ä¸‹ï¼‰ å…¶ä½™ä¸º0ï¼‰
import numpy as np 

a = np.eye(5, dtype = int) æˆ–è€…å¯ä»¥ä½¿ç”¨å¦ä¸€ç§æ–¹æ³• a = np.identity(5, dtype = int)

print(a)

## 4.åˆ›å»ºä¸€ä¸ªä»0åˆ°9çš„ä¸€ç»´æ•°ç»„
import numpy as np 

a = np.arange(10)

print(a)

## 5.åˆ›å»ºä¸€ä¸ªä»10åˆ°49çš„ä¸€ç»´æ•°æ®
import numpy as np 

a = np.arange(10,50) # èµ·å§‹å€¼å’Œç»ˆæ­¢å€¼ï¼ˆåŒ…å‰ä¸åŒ…åï¼‰

print(a)

## 6.åˆ›å»ºä¸€ä¸ªåŒ…å«20ä¸ªå…ƒç´ çš„ç­‰å·®æ•°åˆ—ï¼Œä»0åˆ°1
import numpy as np 

***.linspaceç”¨äºç”Ÿæˆç­‰é—´éš”æ•°å€¼åºåˆ— np.linspace(start, stop, num, enpoint=Trueï¼ˆé»˜è®¤ï¼‰, retstep=Fasleï¼ˆé»˜è®¤ï¼‰, dtype=None, axis=0)***

a = np.linspace(0,1,20) 

print(a)

## 7.åˆ›å»ºä¸€ä¸ª3X3çš„éšæœºæ•°ç»„ï¼ˆå€¼åœ¨0åˆ°1ä¹‹é—´ï¼‰
import numpy as np 

***random() è¡¨ç¤ºéšæœºç”Ÿæˆ å…¶ä¸­ï¼Œrand()è¡¨ç¤ºå‡åŒ€åˆ†å¸ƒï¼ŒèŒƒå›´[0,1) randn()è¡¨ç¤ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ŒèŒƒå›´ï¼ˆ-âˆï¼Œ+âˆï¼‰ï¼Œrandom()ä¹Ÿè¡¨ç¤ºå‡åŒ€åˆ†å¸ƒï¼ŒèŒƒå›´ä¸rand()ä¸€æ · randint()ç¦»æ•£å‡åŒ€åˆ†å¸ƒï¼ŒèŒƒå›´æ˜¯è‡ªå®šä¹‰ï¼Œç”¨æ³• np.random.randint(0,10,(3,3))***

a = np.random.rand(3,3) 

print(a)

## 8.åˆ›å»ºä¸€ä¸ª10X10çš„éšæœºæ•°ç»„ï¼Œå¹¶æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼
import numpy as np 

#åˆ›å»º10X10çš„éšæœºæ•°ç»„,å€¼åœ¨0åˆ°1

a = np.random.rand(10,10) 

print(a)

#æ‰¾å‡ºæœ€å¤§å€¼æœ€å°å€¼ ï¼ˆå…¶å®ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ a.min() å’Œ a.max() è¿™ä¸ªæ–¹æ³•åŒæ ·ä¹Ÿå¯ä»¥æ‰¾åˆ°ï¼‰

max_name = np.max(a)

min_name = np.min(a)

print("æœ€å°å€¼:",min_name)

print("æœ€å¤§å€¼:",max_name)

## 9.åˆ›å»ºä¸€ä¸ª8X8çš„æ£‹ç›˜å¼æ•°ç»„ï¼ˆ0é»‘ï¼Œ1ç™½ç›¸é—´ï¼‰
import numpy as np 

a = np.zeros((8,8), dtype = int)

***åˆ‡ç‰‡è¯­æ³•è§£æ a[start:stop:step] startåŒ…å«èµ·å§‹ç´¢å¼• stopåˆ™ä¸åŒ…æ‹¬***

***1::2 è¡¨ç¤ºä»ç¬¬1è¡Œå¼€å§‹ï¼Œæ­¥é•¿ä¸º2ï¼Œæ¯éš”1è¡Œå–ä¸€è¡Œ å³ 1357è¡Œ***

***::2 è¡¨ç¤ºä»ç¬¬0åˆ—å¼€å§‹ï¼Œæ­¥é•¿ä¸º2ï¼Œæ¯éš”1åˆ—å–ä¸€åˆ— å³ 2468åˆ— ::2ç­‰æ•ˆäº0::2***

a[1::2,::2] = 1 #  åˆ‡ç‰‡æ“ä½œ ï¼ˆå¥‡æ•°è¡Œï¼‰ å¶æ•°ç´¢å¼•ä½ç½®è®¾ä¸º1

***::2 è¡¨ç¤ºä»ç¬¬0è¡Œå¼€å§‹ï¼Œæ¯éš”1è¡Œå–ä¸€è¡Œ å³2468è¡Œ***

***1::2 è¡¨ç¤ºä»ç¬¬1åˆ—å¼€å§‹ï¼Œæ¯éš”1åˆ—å–ä¸€åˆ— å³1357åˆ—***

a[::2,1::2] = 1 # å¶æ•°è¡Œ å¥‡æ•°ç´¢å¼•è®¾ç½®ä¸º1

print(a)

## 10.åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„5X5æ•°ç»„å¹¶æ‰“å°å…¶æ•°æ®ç±»å‹
import numpy as np 

a = np.random.randint(1,10,(5,5)) # éšæœºç”Ÿæˆä¸€ä¸ª5è¡Œ5åˆ—çš„æ•°ç»„ ä½†æ˜¯ä¸çŸ¥é“ç¬¦ä¸ç¬¦åˆé¢˜æ„ æ‰€ä»¥é‡æ–°å†™ä¸€ä¸ª

b = np.array([[1,2,3,4,5],
                [6,7,8,9,10],
                [11,12,13,14,15],
                [16,17,18,19,20],
                [21,22,23,24,25]])

print(a.dtype)

print(b.dtype)

## åˆçº§ç»ƒä¹ é¢˜ä¹‹æ•°ç»„åˆ›å»ºä¸åŸºæœ¬æ“ä½œçš„æ€»ç»“
- np.zeros(5ï¼Œdtype = int) è¡¨ç¤ºåˆ›å»ºå…¨é›¶æ•°ç»„ ç”¨æ³•: np.zeros(shape, dtype=floatï¼ˆé»˜è®¤floatç±»å‹ï¼‰) å…¶ä¸­shapeå¯ä»¥æ˜¯intæˆ–è€…tupleï¼Œæ¯”å¦‚5æˆ–è€…(2,3)

- np.ones((3,3), dtype = int) è¡¨ç¤ºåˆ›å»ºå…¨ä¸€æ•°ç»„ ç”¨æ³•: np.zeros(shaple, dtype=float(é»˜è®¤floatç±»å‹)) å…¶ä¸­shapeå¯ä»¥æ˜¯intæˆ–è€…tupleï¼Œæ¯”å¦‚5æˆ–è€…(3,3)

- np.eye(5, dtype = int) è¡¨ç¤ºåˆ›å»ºå•ä½çŸ©é˜µ ç”¨æ³•:np.eye(N, M=None, k=None, dtype=floatï¼ˆé»˜è®¤floatç±»å‹ï¼‰) å…¶ä¸­Nè¡¨ç¤ºè¡Œæ•°ï¼ŒMè¡¨ç¤ºåˆ—æ•°(å¯é€‰)ï¼Œkè¡¨ç¤ºå¯¹è§’çº¿åç§»é‡k=1å‘å³åç§»ï¼Œk=-1å‘ä¸‹åç§»

- np.arange(10,50) è¡¨ç¤ºç”Ÿæˆç­‰å·®æ•°åˆ—æ•°ç»„ ç”¨æ³•: np.arange(start,stop,step) å…¶ä¸­startåŒ…å«èµ·å§‹å€¼ï¼Œè€Œstopä¸åŒ…å«ï¼Œæ­¥é•¿é»˜è®¤æ˜¯1

- np.linspace(0,1,20) è¡¨ç¤ºç”Ÿæˆç­‰é—´éš”æ•°å€¼åºåˆ— ç”¨æ³•: np.linspace(start, stop, num, enpoint=Trueï¼ˆé»˜è®¤ï¼‰, retstep=Fasleï¼ˆé»˜è®¤ï¼‰, dtype=None, axis=0)

- random() è¡¨ç¤ºéšæœºç”Ÿæˆ å…¶ä¸­ï¼Œrand()è¡¨ç¤ºå‡åŒ€åˆ†å¸ƒï¼ŒèŒƒå›´[0,1) randn()è¡¨ç¤ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ŒèŒƒå›´ï¼ˆ-âˆï¼Œ+âˆï¼‰ï¼Œrandom()ä¹Ÿè¡¨ç¤ºå‡åŒ€åˆ†å¸ƒï¼ŒèŒƒå›´ä¸rand()ä¸€æ · randint()ç¦»æ•£å‡åŒ€åˆ†å¸ƒï¼ŒèŒƒå›´æ˜¯è‡ªå®šä¹‰ï¼Œç”¨æ³• np.random.randint(0,10,(3,3))

- np.array() è¡¨ç¤ºåˆ›å»ºnumpyçš„æ•°ç»„ ç”¨æ³•: np.array(object, dtype=None, copy=True) å…¶ä¸­objectè¡¨ç¤ºè½¬æ¢æˆæ•°æ®çš„æ•°æ®ï¼Œå¦‚åˆ—è¡¨ï¼Œå…ƒç»„ç­‰ç­‰ dtypeè¡¨ç¤ºæŒ‡å®šå…ƒç´ ç±»å‹ï¼Œå¦‚intï¼Œfloatï¼Œcopyè¡¨ç¤ºæ˜¯å¦èµ‹å€¼æ•°æ®ï¼Œé»˜è®¤True

- åˆ‡ç‰‡è¯­æ³•è§£æä¹‹ä¸€ç»´æ•°ç»„ a[start:stop:step] startåŒ…å«èµ·å§‹ç´¢å¼• stopåˆ™ä¸åŒ…æ‹¬ï¼Œstepè¡¨ç¤ºæ­¥é•¿ï¼Œ-1è¡¨ç¤ºåè½¬ ***ç”¨äºä¸€ç»´æ•°æ®åˆ‡ç‰‡***

# Numpyç»ƒä¹ é¢˜ä¹‹åˆçº§ç»ƒä¹ é¢˜ æ•°ç»„ç´¢å¼•å’Œåˆ‡ç‰‡
## 1.åˆ›å»ºä¸€ä¸ª10X10æ•°ç»„ï¼Œå¹¶æå–ç¬¬ä¸‰è¡Œç¬¬äº”åˆ—çš„å…ƒç´ 
import numpy as np 

a = np.arange(100).reshape(10,10) # å…¶ä¸­ .reshapeè¡¨ç¤ºè½¬æ¢æˆ10X10çš„äºŒç»´æ•°ç»„

b = a[2,4] #å…ˆè¡Œç´¢å¼•ï¼Œå†åˆ—ç´¢å¼•

print(a)

print(b)

## 2.æå–ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å¶æ•°ç´¢å¼•å…ƒç´  å»¶ä¼¸ æˆ‘ä¹Ÿå¯ä»¥æå–å¥‡æ•°ç´¢å¼•å…ƒç´ 
import numpy as np 

a = np.array([0,1,2,3,4,5,6,7,8,9])

b = a[::2] #æå–å¶æ•°

c = a[1::2] #æå–å¥‡æ•°

print(b)

print(c)

## 3.å°†ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å¤§äº5çš„å…ƒç´ æ›¿æ¢ä¸º1ï¼Œå…¶ä½™ä¸º0
import numpy as np 

a = np.array([0,1,2,3,4,5,6,7,8,9])

b = np.where(a>5,1,0) #è¡¨ç¤ºæ»¡è¶³å¤§äº5çš„å…ƒç´ ï¼Œå˜ä¸º1ï¼Œåä¹‹å˜ä¸º0

print(b)

## 4.æå–ä¸€ä¸ªäºŒç»´æ•°ç»„çš„ç¬¬2åˆ—
import numpy as np 

a = np.array([[1,2,3],[4,5,6],[7,8,9]])

b = a[:,1] # å¤šç»´æ•°ç»„çš„åˆ‡ç‰‡ :è¡¨ç¤ºé€‰å–æ‰€æœ‰è¡Œ 1è¡¨ç¤ºé€‰å–ç¬¬1åˆ—

print(b)

## 5.åè½¬ä¸€ä¸ªä¸€ç»´æ•°ç»„ æ‹“å±• äºŒç»´æ•°ç»„åŒæ ·ä¹Ÿå¯ä»¥åè½¬ æ–¹æ³•ä¹Ÿæ˜¯ä¸€æ ·çš„
import numpy as np 

a = np.arange(0,10)

b = a[::-1] #åè½¬

print(a)

print(b)

## 6.åè½¬ä¸€ä¸ªäºŒç»´æ•°ç»„çš„æ‰€æœ‰è¡Œ
import numpy as np 

a = np.array([[1,2,3],[4,5,6]])

b = a[::-1] #åè½¬ æˆ–è€… b = a[::1 , :] è¡¨ç¤ºæ˜¾ç¤ºåœ°è¡Œåè½¬ï¼Œåˆ—ä¸å˜

print(b)

## 7.åè½¬ä¸€ä¸ªäºŒç»´æ•°ç»„çš„æ‰€æœ‰åˆ—
import numpy as np 

a = np.array([[1,2,3],[4,5,6]])

b = a[:, ::-1] #åè½¬

print(b)

## 8.åˆ›å»ºä¸€ä¸ª10X10æ•°ç»„ï¼Œå¹¶æå–å…¶ä¸­3X3çš„å­æ•°ç»„
import numpy as np 

a = np.arange(100).reshape(10,10)

b = a[:3 , :3] #è¡¨ç¤ºä»0-3è¡Œå’Œ0-3åˆ—çš„æ‰€æœ‰æ•°æ®ï¼Œ3X3

print(a)

print(b)

## 9.ä½¿ç”¨å¸ƒå°”ç´¢å¼•æå–æ•°ç»„ä¸­å¤§äº5çš„å…ƒç´ 
import numpy as np 

a = np.array([0,1,2,3,4,5,6,7,8,9])

b = a>5 #å¸ƒå°”å€¼çš„ç¼–ç æ˜¾ç¤ºç»“æœ true falseä¹‹ç±»çš„

arr = a[b]

print(arr)

## 10.ä½¿ç”¨èŠ±å¼ç´¢å¼•ä»æ•°ç»„ä¸­æå–ç‰¹å®šä½ç½®çš„å…ƒç´ 
import numpy as np 

a = np.array([1,2,3,4,5,6,7,8,9])

b = [0,2,4] #æå–å…ƒç´ ä¸º 1ï¼Œ3ï¼Œ5

arr = a[b]

print(arr)


## åˆçº§ç»ƒä¹ é¢˜ä¹‹æ•°ç»„ç´¢å¼•ä¸åˆ‡ç‰‡çš„æ€»ç»“
- np.arange(xx).reshape(xx,xx) è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªå…ƒç´ ä¸ºxxçš„æ•°ç»„ï¼Œå¹¶reshapeæˆxx X xx çš„äºŒç»´æ•°ç»„ï¼Œä¾‹å¦‚np.arange(100).reshape(10,10) è¡¨ç¤ºåˆ›å»ºä¸€ä¸ª0-99çš„æ•°ç»„ï¼Œå¹¶æŠŠå®ƒè½¬æ¢æˆ10X10çš„äºŒç»´æ•°ç»„

- np.where() è¡¨ç¤ºæ ¹æ®æ¡ä»¶åœ¨æ•°ç»„ä¸­è¿›è¡Œå…ƒç´ çš„é€‰æ‹©ä¸æ›¿æ¢ è¯­æ³•:np.where(condition,x,y) å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œè¿”å›xï¼Œå¦åˆ™ä¸ºyï¼Œé€å…ƒç´ è¿›è¡Œ ***å½“åªä¼ å…¥conditionæ—¶ï¼Œåˆ™è¿”å›çš„æ˜¯æ»¡è¶³æ¡ä»¶çš„ç´¢å¼•***

- åˆ‡ç‰‡è¯­æ³•è§£æä¹‹å¤šç»´æ•°ç»„ a[è¡Œåˆ‡ç‰‡ï¼Œåˆ—åˆ‡ç‰‡]   ä¾‹å¦‚:a[0, :]è¡¨ç¤ºç¬¬0è¡Œï¼Œæ‰€æœ‰åˆ— a[:, 1]è¡¨ç¤ºæ‰€æœ‰è¡Œï¼Œç¬¬1åˆ— a[i:k , j:v]è¡¨ç¤ºå¤šè¡Œå¤šåˆ—åŒºåŸŸ

# Numpyç»ƒä¹ é¢˜ä¹‹åˆçº§ç»ƒä¹ é¢˜ æ•°ç»„æ“ä½œ
## 1.å°†ä¸¤ä¸ªä¸€ç»´æ•°ç»„å‚ç›´å †å 
import numpy as np 

a = np.array([1,2,3])

b = np.array([4,5,6])

c = np.vstack((a,b)) # æˆ–è€… c = np.vstack([a,b])

print(c)

## 2.å°†ä¸¤ä¸ªä¸€ç»´æ•°ç»„æ°´å¹³å †å 
import numpy as np 

a = np.array([1,2,3])

b = np.array([4,5,6])

c = np.hstack((a,b)) # æˆ–è€… c = np.hstack([a,b])

print(c)

## 3.å°†ä¸€ä¸ªä¸€ç»´æ•°ç»„è½¬æ¢ä¸ºäºŒç»´è¡Œå‘é‡
import numpy as np 

a = np.array([1,2,3])

c = a.reshape(1,-1)  #  è¡Œå‘é‡

print(c)

## 4.å°†ä¸€ä¸ªä¸€ç»´æ•°ç»„è½¬æ¢ä¸ºäºŒç»´åˆ—å‘é‡
import numpy as np 

a = np.array([1,2,3])

c = a.reshape(-1,1)  #  åˆ—å‘é‡

print(c)

## 5.è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„ç‚¹ç§¯
import numpy as np 

a = np.array([1,2,3])

b = np.array([4,5,6])

c = np.dot(a,b)

print(c)

## 6.è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„å…ƒç´ ä¹˜ç§¯
import numpy as np 

a = np.array([1,2,3])

b = np.array([4,5,6])

c = np.multiply(a,b)

print(c)

## 7.è®¡ç®—æ•°ç»„çš„è½¬ç½®
import numpy as np 

a = np.array([[1,2,3],[4,5,6]])

print(a.T) #è¡Œå˜åˆ— åˆ—å˜è¡Œ

## 8.å±•å¹³ä¸€ä¸ªå¤šç»´æ•°ç»„
import numpy as np 

a = np.array([[1,2,3],[4,5,6]])

b = a.flatten()

print(b)

## 9.æ”¹å˜æ•°ç»„çš„å½¢çŠ¶è€Œä¸æ”¹å˜æ•°æ®  (æœ¬é¢˜æœ‰ä¸¤ç§è§£æ³•ï¼Œä¸€ç§æ˜¯ç”¨reshape å¦ä¸€ç§ä½¿ç”¨ T)
import numpy as np

a = np.array([[1,2,3],[4,5,6]])

c = a.reshape(-1,1) 

print(a.T) #è¡Œå˜åˆ— åˆ—å˜è¡Œ

print(c)

## 10.è®¡ç®—æ•°ç»„çš„ç»´åº¦
import numpy as np

a = np.array([[1,2,3],[4,5,6]])

print(a.shape) #è¿”å›æ•°ç»„çš„å½¢çŠ¶ä¿¡æ¯ ä¾‹å¦‚ (2,3)è¡¨ç¤ºä¸¤è¡Œä¸‰åˆ—

## åˆçº§ç»ƒä¹ é¢˜ä¹‹æ•°ç»„æ“ä½œçš„æ€»ç»“
- np.vstack è¡¨ç¤ºå‚ç›´å †å 

- np.hstack è¡¨ç¤ºæ°´å¹³å †å 

- np.reshape(1,-1) å…¶ä¸­1è¡¨ç¤º 1è¡Œ -1è¡¨ç¤ºè‡ªåŠ¨è¯†åˆ« è¡Œå‘é‡

- np.reshape(-1,1) åŒç†ï¼Œè¿™ä¸ªè¡¨ç¤ºåˆ—å‘é‡

- np.dot è¡¨ç¤ºç”¨äºå‘é‡ï¼ˆä¸€ç»´æ•°ç»„ï¼‰/çŸ©é˜µä¹˜æ³•çš„å¸¸ç”¨å‡½æ•° è¯­æ³•:np.dot(a,b,out=None) ç‚¹ç§¯è¦æ±‚å‰ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•°ç­‰äºåä¸€ä¸ªçŸ©é˜µçš„è¡Œæ•°ï¼Œè®¡ç®—æ–¹å¼ä¸º c = np.dot = a[0] * b[0] + a[1] * b[1]

- np.multiply è¡¨ç¤ºå¯¹ä¸¤ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå¯¹åº”å…ƒç´ è¿›è¡Œä¹˜æ³•è¿ç®—ï¼Œè¿”å›ç›¸åŒå½¢çŠ¶çš„æ–°æ•°ç»„

- a.T æ˜¯Numpyæ•°ç»„çš„è½¬ç½®æ“ä½œï¼Œè¡¨ç¤ºæŠŠè¯¥æ•°ç»„çš„è¡Œå˜åˆ—ï¼Œåˆ—å˜è¡Œ(äºŒç»´æ•°ç»„è€Œè¨€)  ç­‰ä»·äº a.T ==> np.transpose(a)

- a.flatten è¡¨ç¤ºæŠŠå¤šç»´æ•°ç»„æ‹‰å¹³æˆä¸€ç»´æ•°ç»„

- a.shape æ˜¯Numpyæ•°ç»„çš„å±æ€§ï¼Œç”¨äºè¿”å›è¯¥æ•°ç»„çš„å½¢çŠ¶ä¿¡æ¯

# Numpyç»ƒä¹ é¢˜ä¹‹åˆçº§ç»ƒä¹ é¢˜ ç»¼åˆç»ƒä¹ é¢˜
## 1.åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸ºï¼ˆ3ï¼Œ4ï¼‰çš„äºŒç»´æ•°ç»„ï¼Œæ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸º5 
import numpy as np

a = np.ones((3,4), dtype = int) + 4 æˆ–è€… a = np.full((3,4), 5, dtype = int)

print(a)

## 2.ç»™å®šä¸€ç»´æ•°ç»„ arr=np.array([10,20,30,40,50]),å¦‚ä½•è·å–ç¬¬2ä¸ªå…ƒç´ å’Œç¬¬4ä¸ªå…ƒç´  æ‹“å±• ç»™å®šäºŒç»´æ•°ç»„ 
import numpy as np

arr = np.array([10,20,30,40,50])

a = [1,3] æˆ–è€… a = arr[[1,3]] # ***ç¬¬2ä¸ªå…ƒç´ å’Œç¬¬4ä¸ªå…ƒç´   ä¸€ç»´æ•°ç»„å–å¤šä¸ªæŒ‡å®šä½ç½®ï¼Œç”¨æ•°ç»„æˆ–åˆ—è¡¨ï¼ša = [1,3]åˆ—è¡¨å½¢å¼ a = arr[[1,3]]æ•°ç»„å½¢å¼  äºŒç»´æ•°ç»„ç”¨a[1,3]***

***æ‹“å±• a =  arr[1,3] print(a) å³å¯å®Œæˆ æ‹“å±•ä¸­çš„è¦æ±‚***

b = arr[a]

print(b)

## 3.å°†ä¸€ç»´æ•°ç»„ np.arange(12) è½¬æ¢ä¸ºå½¢çŠ¶ä¸º(3,4)çš„äºŒç»´æ•°ç»„
import numpy as np

arr = np.arange(12).reshape(3,4)

print(arr)

## 4.å°†ä¸¤ä¸ªæ•°ç»„ a = np.array([1,2,3]) å’Œ b = np.array([4,5,6]) å‚ç›´å †å æˆä¸€ä¸ªäºŒç»´æ•°ç»„
import numpy as np

a = np.array([1,2,3])

b = np.array([4,5,6]) 

c = np.vstack([a,b])

print(c)

## 5.è®¡ç®—æ•°ç»„ np.array([1,2,3,4]) ä¸­æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹å’Œ
import numpy as np

a = np.array([1,2,3,4]) 

b = np.sum(a**2)

print(b)

## 6.ç»™å®šçŸ©é˜µ A = np.array([[1,2],[3,4]]) å’Œ B = np.array([[5,6],[7,8]]),è®¡ç®—å®ƒä»¬çš„çŸ©é˜µ*ä¹˜ç§¯*
import numpy as np

A = np.array([[1,2],[3,4]])

B = np.array([[5,6],[7,8]])

c = np.dot(A,B)

print(c)

## 7.è®¡ç®—æ•°ç»„np.array([1,2,3,4,5,6,7,8,9])çš„å¹³å‡å€¼å’Œæ ‡å‡†å·®
import numpy as np

a = np.array([1,2,3,4,5,6,7,8,9])

c = np.average(a) #æ±‚å¹³å‡å€¼

b = np.mean(a) # æ±‚å¹³å‡å€¼

d = np.std(a) #æ±‚æ ‡å‡†å·®

print("cçš„æ‰“å°:",c,"bçš„æ‰“å°:",b)

print(d)

## 8.ä»æ•°æ® arr=np.array([1,2,3,4,5,6,7,8,9])ä¸­ç­›å‡ºæ‰€æœ‰å¤§äº5çš„å…ƒç´ 
import numpy as np

a = np.array([1,2,3,4,5,6,7,8,9])

b = a>5 #æ»¡è¶³ç¬¦åˆa>5çš„å…ƒç´ ï¼Œè¿”å›çš„å€¼æ˜¯boolç±»å‹

arr = a[b] #æ ¹æ®bçš„è¿”å›å€¼ï¼Œæ‹¿åˆ°aå¯¹åº”æ»¡è¶³ç»“æœçš„å…·ä½“å€¼ 

print(arr) # æˆ–è€…ç›´æ¥å†™æˆ print(a[a>5])

## 9.å°†ä¸€ç»´æ•°ç»„np.array([1,2,3]) ä¸ äºŒç»´æ•°æ®np.array([1],[2],[3])ç›¸åŠ ï¼Œè§£é‡Šç»“æœ
import numpy as np #è§£é‡Šï¼šç”¨åˆ°äº†å¹¿æ’­æœºåˆ¶æ¥è§£å†³

a = np.array([1,2,3])

b = np.array([[1],[2],[3]])

#å‡ºå‘å¹¿æ’­æœºåˆ¶

print(a+b)

## 10.ç”Ÿæˆä¸€ä¸ªå½¢çŠ¶ä¸º(3X3)çš„æ•°ç»„ï¼Œå…¶ä¸­çš„å…ƒç´ æ˜¯ä»æ ‡å‡†æ­£æ€åˆ†å¸ƒä¸­éšæœºæŠ½å–çš„
import numpy as np 

a = np.random.randn(3,3)

print(a)


## åˆçº§ç»ƒä¹ é¢˜ä¹‹ç»¼åˆç»ƒä¹ é¢˜çš„æ€»ç»“

- np.full() æ˜¯Numpyä¸­ç”¨äºåˆ›å»ºæ‰€æœ‰å…ƒç´ éƒ½ç›¸åŒçš„æ•°ç»„çš„å‡½æ•° è¯­æ³•:np.full(shape , fill_value, dtype=None) shapeè¡¨ç¤ºå½¢çŠ¶å…ƒç»„ï¼Œä¾‹å¦‚(3,4)è¡¨ç¤ºä¸‰è¡Œå››åˆ—ï¼Œfill_valueè¡¨ç¤ºå¡«å……çš„å€¼ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æ˜¯è¿™ä¸ªå€¼

- np.sum() æ˜¯Numpyä¸­ç”¨æ¥å¯¹æ•°ç»„å…ƒç´ æ±‚å’Œçš„å‡½æ•° è¯­æ³•:np.sum(a, axis=None, dtype=None,keepdims=False) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ axisæŒ‡å®šæ²¿å“ªä¸ªè½´æ±‚å’Œ(é»˜è®¤æ˜¯æ‰€æœ‰å…ƒç´ æ€»å’Œ)axis=0è¡¨ç¤ºå¯¹åˆ—æ–¹å‘æ±‚å’Œï¼Œaxis=1è¡¨ç¤ºå¯¹è¡Œæ–¹å‘æ±‚å’Œ(é€‚ç”¨äºäºŒç»´åŠæ›´é«˜ç»´æ•°ç»„)  dtypeè¡¨ç¤ºè¿”å›ç»“æœçš„ç±»å‹ keepdimsè¡¨ç¤ºæ˜¯å¦ä¿æŒåŸæœ‰çš„ç»´åº¦(é€šå¸¸ç”¨äºå¤šç»´æ•°ç»„)

- np.mean() æ˜¯Numpyä¸­è®¡ç®—æ•°ç»„å…ƒç´ çš„ç®—æœ¯å¹³å‡å€¼(æ™®é€šå¹³å‡å€¼) è¯­æ³•:np.mean(a,axis=None,dtype=None,keepdims=False) aè¡¨ç¤ºè¦è®¡ç®—çš„æ•°ç»„ axisæŒ‡å®šæ²¿å“ªä¸ªè½´æ±‚å’Œ(é»˜è®¤å…¨éƒ¨å…ƒç´ ) å…¶ä»–å‚æ•°ä¸€èˆ¬ç”¨ä¸åˆ°

- np.average() æ˜¯Numpyä¸­è®¡ç®—åŠ æƒå¹³å‡æ•° è¯­æ³•:np.average(a,axis=None,weights=None,returned=False) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ weightsè¡¨ç¤ºæƒé‡ æ¯”å¦‚ weights=[1,1,2] å¦‚æœä¸ç»™æƒé‡weightsï¼Œæ•ˆæœå’Œ np.meanä¸€æ ·

- np.std() æ˜¯Numpyä¸­è®¡ç®—æ•°ç»„å…ƒç´ çš„æ ‡å‡†å·®(è¡¡é‡ç¦»æ•£ç¨‹åº¦) è¯­æ³•:np.std(a,axis=None,dtype=None,ddof=0,keepdims=False) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œddofè¡¨ç¤ºè‡ªç”±åº¦è°ƒæ•´ï¼Œä¸€èˆ¬ç”¨é»˜è®¤å³å¯

- å¹¿æ’­æœºåˆ¶ æ˜¯Numpyä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§ï¼Œç”¨æ¥è®©ä¸åŒå½¢çŠ¶çš„æ•°ç»„èƒ½å¤Ÿè¿›è¡Œ'è‡ªåŠ¨åŒ¹é…'è¿›è¡Œè¿ç®— 

- np.random.randn() æ˜¯Numpyä¸­éšæœºç”Ÿæˆæ•°ç»„ å…¶ä¸­randnè¡¨ç¤ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ŒèŒƒå›´ï¼ˆ-âˆï¼Œ+âˆï¼‰

# Numpyç»ƒä¹ é¢˜ä¹‹ä¸­çº§ç»ƒä¹ é¢˜ é€»è¾‘æ“ä½œä¸è¿‡æ»¤
## 1.æå–æ•°ç»„ä¸­æ‰€æœ‰å”¯ä¸€çš„å…ƒç´ 
import numpy as np 

a = np.array([1,2,3,4,5,6,1,2,3,4,5,6])

print(np.unique(a)) #æ‰¾å‡ºæ•°ç»„ä¸­æ‰€æœ‰ä¸é‡å¤çš„å…ƒç´ çš„å‡½æ•°

## 2.è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å’Œ
import numpy as np 

a = np.array([1,2,3,4,5,6,1,2,3,4,5,6])

print(np.sum(a))

## 3.æå–æ•°ç»„ä¸­æ‰€æœ‰éé›¶å…ƒç´ çš„ç´¢å¼•
import numpy as np 

a = np.array([1,2,0,4,5,0,1,2,0,0,5,6])

print(np.nonzero(a)) 

## 4.æ£€æŸ¥ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰
import numpy as np 

a = np.array([1,2,0,4])

b = np.array([1,2,3,4])

d = np.array_equal(a,b) # æˆ–è€… d = np.all(a == b)

print(d)

## 5.æ£€æŸ¥æ•°æ®æ˜¯å¦æœ‰NaNå€¼
import numpy as np 

a = np.array([1,2,0,4,np.nan,6,8,np.nan])

print(np.isnan(a)) # ***print(a[np.isnan(a)]) è¡¨ç¤º æ‰“å°nan***  ***print(a[~np.isnan(a)]) è¡¨ç¤ºæ‰“å°énançš„å€¼ å³1ï¼Œ2ï¼Œ3ï¼Œ4ç­‰ç­‰***

## 6.æ›¿æ¢æ•°ç»„ä¸­æ‰€æœ‰NaNå€¼ä¸º0
import numpy as np 

a = np.array([1,2,0,4,np.nan,6,8,np.nan])

c = np.nan_to_num(a,nan = 0) #æˆ– c = np.nan_to_num(a,0) ç‰ˆæœ¬å·®å¼‚çš„è¯ç”¨åè€…å³å¯

print(c)

## 7.æå–æ•°ç»„ä¸­æ‰€æœ‰å¤§äºå¹³å‡å€¼çš„æ•°æ®
import numpy as np  # è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±å†™çš„ ä¸ç¡®å®šå¯¹ä¸å¯¹å“ˆ

a = np.array([1,2,0,4,6,8])

b = np.mean(a) #3.5  # ***b = np.nanmean(a) c = a[a>b] print(c) æ¯”è¾ƒç®€å•çš„æ–¹æ³•***
 
c = b>a  #boolç±»å‹ 

print(c)

d = a[~c] #å¤§äºå¹³å‡å€¼ # ***ä¹Ÿå¯ä»¥ç›´æ¥ç®€åŒ–æˆd = a[a>b]***

print(d)

## 8.è®¡ç®—æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„å…ƒç´ æ•°é‡
import numpy as np 

a = np.array([1,2,0,4,6,8,np.nan])

b = np.nanmean(a)

c = a>b

d = np.count_nonzero(c) #ç»Ÿè®¡æ•°ç»„ä¸­éé›¶(True)å…ƒç´ ä¸ªæ•°çš„å‡½æ•°

print(d)

## 9.å¯¹æ•°ç»„åº”ç”¨è‡ªå®šä¹‰å‡½æ•°
import numpy as np 

b = np.array([1,2,0,4,6,8])

def func(a):

    return a + 10

print(func(b))

## 10.ä½¿ç”¨whereå‡½æ•°æ›¿æ¢æ•°ç»„å…ƒç´ 
import numpy as np 

b = np.array([1,2,0,4,6,8])

a = np.where(b>5,1,0)

print(a)

## ä¸­çº§ç»ƒä¹ é¢˜ä¹‹é€»è¾‘æ“ä½œä¸è¿‡æ»¤çš„æ€»ç»“

- np.unique() æ˜¯Numpyä¸­å¸¸ç”¨æ¥æ‰¾å‡ºæ•°ç»„ä¸­æ‰€æœ‰ä¸é‡å¤çš„å…ƒç´ çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è¿”å›è¿™äº›å…ƒç´ åœ¨åŸæ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½® è¯­æ³•:np.unique(ar,return_index=False,return_inverse=False,return_counts=False,axis=None) arè¡¨ç¤ºæ•°ç»„ï¼Œreturn_indexè¡¨ç¤ºæ˜¯å¦è¿”å›åŸæ•°ç»„ä¸­æ¯ä¸ªå”¯ä¸€å€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® return_inverseè¡¨ç¤ºæ˜¯å¦è¿”å›åŸæ•°ç»„å¯ä»¥ç”±å”¯ä¸€å€¼é‡å»ºçš„ç´¢å¼• return_countè¡¨ç¤ºæ˜¯å¦è¿”å›æ¯ä¸€ä¸ªå”¯ä¸€å€¼å‡ºç°çš„æ¬¡æ•° axiså¯¹å¤šç»´æ•°ç»„æŒ‡å®šæ“ä½œçš„è½´(ä¸€èˆ¬ç”¨ä¸åˆ°) ä¾‹å¦‚: è¿”å›å”¯ä¸€å€¼åŠæ¯ä¸ªå€¼å‡ºç°çš„æ¬¡æ•° values,counts = np.unique(a, return_counts=True) print(values,counts)

- np.nonzero() æ˜¯Numpyä¸­ç”¨äºæ‰¾å‡ºæ•°ç»„ä¸­æ‰€æœ‰éé›¶å…ƒç´ çš„ä½ç½®çš„å‡½æ•°ï¼Œå®ƒè¿”å›çš„æ˜¯ç´¢å¼•ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å€¼ è¯­æ³•:np.nonzero(a) aè¡¨ç¤ºè¾“å‡ºæ•°ç»„ï¼Œå¯ä»¥æ˜¯ä¸€ç»´ï¼Œä¹Ÿå¯ä»¥æ˜¯äºŒç»´æˆ–æ›´é«˜ç»´

- np.array_equal() æ˜¯Numpyä¸­æ£€æŸ¥ä¸¤ä¸ªæ•°ç»„å†…å®¹æ˜¯å¦å®Œå…¨ç›¸ç­‰çš„å‡½æ•° è¯­æ³•:np.array_equal(a1,a2,equal_nan=False) a1,a2è¡¨ç¤ºè¦æ¯”è¾ƒçš„ä¸¤ä¸ªæ•°ç»„ equal_nanè¡¨ç¤ºæ˜¯å¦æŠŠNaNçœ‹ä½œç›¸ç­‰(é»˜è®¤ä¸ºFalseï¼Œå¦‚æœä¸ºTrueï¼Œåˆ™ä¸¤ä¸ªä½ç½®ä¸Šéƒ½æ˜¯NaNä¹Ÿç®—ç›¸ç­‰)

- np.all() æ˜¯Numpyä¸­ç”¨æ¥åˆ¤æ–­æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ä¸ºTrueçš„å‡½æ•°ï¼Œå¸¸ç”¨äºå¸ƒå°”æ¡ä»¶åˆ¤æ–­ è¯­æ³•:np.all(a,axis=None,out=None,keepdims=False) aè¡¨ç¤ºè¾“å…¥æ•°ç»„(å¯ä»¥æ˜¯å¸ƒå°”æ•°ç»„æˆ–æ•°å€¼æ•°ç»„) axisè¡¨ç¤ºæŒ‡å®šåœ¨å“ªä¸ªç»´åº¦ä¸Šåˆ¤æ–­(é»˜è®¤å¯¹æ‰€æœ‰å…ƒç´ åˆ¤æ–­) keepdimsè¡¨ç¤ºä¿æŒç»´åº¦

- np.isnan() æ˜¯Numpyç”¨æ¥åˆ¤æ–­æ•°ç»„ä¸­å“ªäº›å…ƒç´ æ˜¯NaN(Not a Numberï¼Œè¡¨ç¤ºç¡®å®æˆ–éæ³•å€¼)çš„å‡½æ•° è¯­æ³•:np.isnan(x) xè¡¨ç¤ºè¾“å…¥çš„æ•°ç»„æˆ–å•ä¸ªæ•°å€¼(å¯ä»¥æ˜¯ä¸€ç»´ï¼ŒäºŒç»´æˆ–æ›´é«˜ç»´) è¿”å›åŒæ ·å½¢çŠ¶çš„å¸ƒå°”æ•°ç»„ï¼Œå…ƒç´ æ˜¯Trueè¯´æ˜å¯¹åº”ä½ç½®æ˜¯NaNï¼ŒFalseè¯´æ˜ä¸æ˜¯

- np.nan_to_num() æ˜¯Numpyç”¨æ¥æŠŠæ•°ç»„é‡Œçš„NaN(ç¼ºå¤±å€¼)æˆ–æ— ç©·å¤§(inf)ç­‰ç‰¹æ®Šå€¼æ›¿æ¢ä¸ºä½ æŒ‡å®šçš„æ•°å€¼çš„å‡½æ•°ï¼Œå¸¸ç”¨äºæ•°æ®æ¸…ç† è¯­æ³•:np.nan_to_num(x,copy=True,nan=0.0,posinf=None,neginf=None)
xè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œcopyè¡¨ç¤ºæ˜¯å¦å¤åˆ¶åŸæ•°ç»„(ä¸€èˆ¬é»˜è®¤ä¸ºTrue)ï¼Œnanè¡¨ç¤ºç”¨æ¥æ›¿æ¢NaNçš„æ•°å€¼(é»˜è®¤æ˜¯0.0)ï¼Œposinfè¡¨ç¤ºç”¨æ¥æ›¿æ¢æ­£æ— ç©·ï¼ˆ+infï¼‰çš„æ•°å€¼ï¼ˆé»˜è®¤æ˜¯æœ€å¤§æœ‰é™å€¼ï¼‰ï¼Œneginfï¼šç”¨æ¥æ›¿æ¢è´Ÿæ— ç©·ï¼ˆ-infï¼‰çš„æ•°å€¼ï¼ˆé»˜è®¤æ˜¯æœ€å°æœ‰é™å€¼ï¼‰

- np.nanmean() æ˜¯Numpyä¸­ç”¨äºæ±‚æ•°ç»„çš„å‡å€¼(å¹³å‡å€¼)æ—¶è‡ªåŠ¨å¿½è§†NaNå€¼çš„å‡½æ•° å¦‚æœæ•°ç»„ä¸­æœ‰ np.nanï¼Œæ™®é€šçš„ np.mean() ä¼šè¿”å› NaNï¼Œè€Œ np.nanmean() ä¼šè‡ªåŠ¨è·³è¿‡è¿™äº› NaN å…ƒç´ ï¼Œè¿”å›å®é™…æœ‰æ•ˆå€¼çš„å¹³å‡æ•° è¯­æ³•:np.nanmean(a,axis=None,dtype=None,out=None,keepdims=None) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼ŒaxisæŒ‡å®šåœ¨å“ªä¸ªè½´ä¸Šè®¡ç®—å‡å€¼(é»˜è®¤æ˜¯æ‰€æœ‰å…ƒç´ )ï¼Œå…¶ä»–å‚æ•°ç”¨é»˜è®¤å³å¯

- np.count_nonzero() æ˜¯Numpyä¸­ç”¨æ¥ç»Ÿè®¡æ•°ç»„ä¸­éé›¶(True)å…ƒç´ ä¸ªæ•°çš„å‡½æ•°ï¼Œéå¸¸é€‚åˆç»Ÿè®¡å¸ƒå°”æ¡ä»¶æˆç«‹çš„æ¬¡æ•° è¯­æ³•:np.count_nonzero(a, axis=None, keepdims=False) aè¡¨ç¤ºè¾“å…¥æ•°ç»„(å¯ä»¥æ˜¯æ•°å€¼å‹æˆ–å¸ƒå°”å‹)ï¼Œaxisè¡¨ç¤ºæŒ‡å®šç»Ÿè®¡çš„è½´ï¼ˆé»˜è®¤æ˜¯æ‰€æœ‰å…ƒç´ ï¼‰ï¼Œkeepdimsè¡¨ç¤ºæ˜¯å¦ä¿æŒåŸæœ‰ç»´åº¦ï¼ˆé€šå¸¸ä¸éœ€è¦ç®¡ï¼‰

# Numpyç»ƒä¹ é¢˜ä¹‹ä¸­çº§ç»ƒä¹ é¢˜ æ•°ç»„æ“ä½œè¿›é˜¶
## 1.æ‰¾åˆ°æ•°ç»„ä¸­æœ€å¤§å€¼çš„ç´¢å¼•
import numpy as np  # ***è¿™æ˜¯æˆ‘çš„æ–¹æ³• è€Œæˆ‘çš„æ–¹æ³•ä¸ä»…å¯ä»¥è¿™æ ·ï¼Œè¿˜å¯ä»¥å¯»æ‰¾å¤šä¸ªæœ€å¤§å€¼çš„ç´¢å¼•*** 

a = np.array([1,2,0,4,6,8])

max = np.max(a) # ***c = np.argmax(a) print(c) è¿™æ˜¯å¥¹çš„æ–¹æ³• argmaxè¡¨ç¤ºåªå…³å¿ƒç¬¬ä¸€æ¬¡å‡ºç°çš„æœ€å¤§å€¼çš„ç´¢å¼•***

b = np.where(a == max) #or b = np.argwhere(a == max) ***np.whereè¿”å›çš„æ˜¯å…ƒç»„ï¼Œè€Œnp.argwhereè¿”å›çš„æ˜¯æ•°ç»„***

print(b)

## 2.æ‰¾åˆ°æ•°ç»„ä¸­å‰äº”ä¸ªæœ€å¤§å€¼çš„ç´¢å¼•
import numpy as np 

a = np.array([1,2,0,4,6,8,6,3])

b = np.argpartition(a,-5)[-5:] # ***(a,-5)ä¸­çš„-5è¡¨ç¤º æœ€å5ä¸ªä½ç½®æ˜¯å…ƒç´ aä¸­æœ€å¤§çš„5ä¸ªå€¼çš„ç´¢å¼•ï¼Œä½†é¡ºåºä¸ç¡®å®š [-5:]è¡¨ç¤ºå–æ•°ç»„çš„æœ€å5ä¸ªå…ƒç´ ***

print(b)

## 3.å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œå½’ä¸€åŒ–(0-1èŒƒå›´)
import numpy as np 

a = np.array([10,20,30,40,50])

b = (a - a.min()) / (a.max() - a.min())  # ***å½’ä¸€åŒ–çš„æ“ä½œ***

print(b)

## 4.å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œæ ‡å‡†åŒ–(å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1)
import numpy as np 

a = np.array([10,20,30,40,50])

b = (a - a.mean()) / a.std() # ***æ ‡å‡†åŒ–***

print(b)

## 5.è®¡ç®—æ•°æ®çš„ç§»åŠ¨å¹³å‡å€¼
import numpy as np 

a = np.array([1,2,0,4,6,8])

b = 3

c = np.convolve(a,np.ones(b)/b, mode='valid')  #***np.ones(b)/b åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º3çš„å¹³å‡æ ¸[1/3,1/3,1/3],è¡¨ç¤ºå¯¹ç›¸é‚»ä¸‰ä¸ªæ•°æ±‚å¹³å‡ï¼Œ validè¡¨ç¤ºåªå–å®Œå…¨é‡åˆçš„éƒ¨ä»½***

print(c)

## 6.è®¡ç®—æ•°ç»„ä¸­çš„å·®åˆ†
import numpy as np 

a = np.array([1,2,0,4,6,8]) 

c = np.diff(a) # ***è®¡ç®—ç›¸é‚»å…ƒç´ çš„å·®å€¼***

print(c)

## 7.è®¡ç®—æ•°ç»„çš„æ¢¯åº¦
import numpy as np 

a = np.array([1,2,0,4,6,8])

c = np.gradient(a) # ***è®¡ç®—æ¢¯åº¦***

print(c)

## 8.å¯¹æ•°ç»„è¿›è¡Œæ’åº
import numpy as np 

a = np.array([1,2,0,4,6,8])

c = np.sort(a) #***æ’åº(é»˜è®¤å‡åº)***

print(c)

## 9.å¯¹æ•°ç»„çš„æ¯è¡Œè¿›è¡Œæ’åº
import numpy as np 

a = np.array([[1,2,3],[5,4,6],[9,1,4]])

c = np.sort(a,axis=1) # ***axis=1è¡¨ç¤ºè¡Œæ’åº***

print(c)

## 10.å¯¹æ•°ç»„çš„æ¯åˆ—è¿›è¡Œæ’åº
import numpy as np 

a = np.array([[1,2,3],[5,4,6],[9,1,4]])

c = np.sort(a,axis=0) #***axis=0è¡¨ç¤ºåˆ—æ’åº***

print(c)

## ä¸­çº§ç»ƒä¹ é¢˜ä¹‹æ•°ç»„æ“ä½œè¿›é˜¶çš„æ€»ç»“

- np.argmax() æ˜¯Numpyä¸­ç”¨äºè¿”å›æ•°ç»„ä¸­æœ€å¤§å€¼çš„ç´¢å¼•çš„å‡½æ•° è¯­æ³•:np.argmax(a, axis=None) aè¡¨ç¤ºè¾“å…¥çš„æ•°ç»„ï¼Œå¯ä»¥æ˜¯ä¸€ç»´æˆ–å¤šç»´ axisè¡¨ç¤ºæŒ‡å®šè½´çš„æ–¹å‘ï¼ˆé»˜è®¤ Noneï¼Œå³æŠŠæ•°ç»„å±•å¹³åå†æ‰¾æœ€å¤§å€¼çš„ç´¢å¼•ï¼‰

- np.argpartition() æ˜¯Numpyä¸­ä¸€ç§å¿«é€Ÿæ‰¾å‡ºå‰/åè‹¥å¹²ä¸ªæœ€å¤§å€¼æˆ–æœ€å°å€¼çš„ç´¢å¼•çš„æ–¹æ³• è¯­æ³•:np.argpartition(a, k) è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºå°†æ•°ç»„aè¿›è¡Œéƒ¨ä»½æ’åºï¼Œä½¿å¾—ç¬¬kä¸ªå…ƒç´ å·¦è¾¹éƒ½æ˜¯è¾ƒå°(æˆ–è¾ƒå¤§)å…ƒç´ ï¼Œå³è¾¹éƒ½æ˜¯è¾ƒå¤§(æˆ–è¾ƒå°)çš„å…ƒç´ ï¼Œè¿”å›æ˜¯ç´¢å¼•

- np.convolve() æ˜¯NumPy ä¸­ç”¨äºä¸€ç»´å·ç§¯è¿ç®—çš„å‡½æ•° è¯­æ³•:np.convolve(a,v,mode='full') aè¡¨ç¤ºä¸€ç»´è¾“å…¥æ•°ç»„ vè¡¨ç¤ºå¦ä¸€ç»´çš„æ•°ç»„(ä¹Ÿç§°ä¸ºå·ç§¯æ ¸)ï¼Œmodeè¡¨ç¤ºæŒ‡å®šè¾“å‡ºçš„å¤§å°ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§å–å€¼ï¼›
â€˜fullâ€™é»˜è®¤å€¼ï¼Œè¿”å›å®Œå…¨å·ç§¯ç»“æœï¼Œé•¿åº¦ä¸ºlen(a)+len(v)-1  â€˜sameâ€™è¿”å›ä¸aé•¿åº¦ç›¸åŒçš„å·ç§¯ç»“æœ(ä¸­å¿ƒå¯¹é½) â€˜validâ€˜åªè¿”å›å®Œå…¨é‡å éƒ¨ä»½çš„å·ç§¯ç»“æœï¼Œé•¿åº¦ä¸ºlen(a)-len(v)+1

- np.diff() æ˜¯Numpyåº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¡ç®—æ•°ç»„ä¸­ç›¸é‚»å…ƒç´ çš„å·®å€¼ è¯­æ³•:np.diff(a,n=1,axis=-1,prepend=<no value>,append=<no value>) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªä¸€ç»´æˆ–å¤šç»´çš„æ•°ç»„ nè¡¨ç¤ºè¿›è¡Œå·®åˆ†æ“ä½œçš„æ¬¡æ•°ï¼Œé»˜è®¤ä¸º1 axisè¡¨ç¤ºæŒ‰æœ€åä¸€ä¸ªè½´è¿›è¡Œå·®åˆ†ï¼Œé»˜è®¤å€¼ä¸º-1 prependè¡¨ç¤ºåœ¨è®¡ç®—å·®åˆ†å‰ï¼Œåœ¨æ•°ç»„çš„å‰é¢æ·»åŠ çš„å€¼ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡é‡æˆ–æ•°ç»„ï¼Œå½¢çŠ¶éœ€è¦ä¸è¾“å…¥æ•°ç»„ç›¸ç¬¦ï¼Œé»˜è®¤å€¼ä¸ºNone appendè¡¨ç¤ºåœ¨è®¡ç®—å·®åˆ†åï¼Œåœ¨æ•°ç»„çš„åé¢æ·»åŠ çš„å€¼ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡é‡æˆ–æ•°ç»„ï¼Œå½¢çŠ¶éœ€è¦ä¸è¾“å…¥æ•°ç»„ç›¸ç¬¦ï¼Œé»˜è®¤å€¼ä¸ºNone

- np.gradient() æ˜¯ NumPyåº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¡ç®—æ•°ç»„çš„æ•°å€¼æ¢¯åº¦ã€‚æ¢¯åº¦æ˜¯æŒ‡æ•°æ®ç‚¹çš„å˜åŒ–é€Ÿç‡ã€‚é€šå¸¸ç”¨äºè®¡ç®—ä¸€ç»´æˆ–å¤šç»´æ•°ç»„çš„ç¦»æ•£å·®åˆ† è¯­æ³•:np.gradient(f, *varargs, **kwargs) fè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œæ•°æ®ç‚¹ varargsè¡¨ç¤ºå¯é€‰çš„æ•°å€¼è¾“å…¥å‚æ•°ï¼Œç”¨äºæŒ‡å®šæ•°æ®ç‚¹ä¹‹é—´çš„é—´éš”(å¦‚æœä¸æ˜¯å‡åŒ€é—´éš™çš„æƒ…å†µä¸‹) kwargsè¡¨ç¤ºå¯é€‰çš„é¢å¤–å‚æ•°

- np.sort() æ˜¯Numpyä¸­ç”¨äºæ’åºæ•°ç»„çš„å‡½æ•° è¯­æ³•:np.sort(a,axis=-1,kind=None,order=None) aè¡¨ç¤ºè¦æ’åºçš„æ•°ç»„ï¼Œå¯ä»¥æ˜¯ä»»æ„ç»´åº¦ axisè¡¨ç¤ºæ’åºçš„è½´å‘,axis=1è¡¨ç¤ºæŒ‰è¡Œæ’åºï¼Œaxis=0è¡¨ç¤ºæŒ‰åˆ—æ’åº(é»˜è®¤ä¸º-1ï¼Œå³æœ€åä¸€ä¸ªè½´) kindè¡¨ç¤ºæ’åºç®—æ³•ï¼Œå¯é€‰:'quicksort','mergesort','heapsort','stable' orderè¡¨ç¤ºå½“æ•°ç»„æ˜¯ç»“æ„åŒ–æ•°ç»„æ—¶ï¼ŒæŒ‡å®šæ’åºçš„å­—æ®µï¼ˆå¦‚ order='age'ï¼‰

# Numpyç»ƒä¹ é¢˜ä¹‹ä¸­çº§ç»ƒä¹ é¢˜ éšæœºæ•°ä¸ç»Ÿè®¡
## 1.ç”Ÿæˆ10ä¸ª0-1ä¹‹é—´çš„éšæœºæ•°
import numpy as np 

a = np.random.rand(10) # ***.randè¡¨ç¤ºå‡åŒ€åˆ†å¸ƒ***

print(a)

## 2.ç”Ÿæˆ10ä¸ªç¬¦åˆæ­£æ€åˆ†å¸ƒçš„éšæœºæ•°
import numpy as np 

a = np.random.randn(10) # ***.randnè¡¨ç¤ºæ­£æ€åˆ†å¸ƒ***

print(a)

## 3.ç”Ÿæˆ10ä¸ªæ•´æ•°éšæœºæ•°ï¼Œï¼ˆèŒƒå›´1-100ï¼‰
import numpy as np 

a = np.random.randint(1,101,10) # ***.randintè¡¨ç¤ºç¦»æ•£å‡åŒ€åˆ†å¸ƒ***

print(a)

## 4.éšæœºæ‰“ä¹±ä¸€ä¸ªæ•°ç»„
import numpy as np 

a = np.array([1,2,3,4,5,6,7])

np.random.shuffle(a) # ***.shuffleè¡¨ç¤ºæ‰“ä¹±æ•°ç»„***

print(a)

## 5.ä»æ•°æ®ä¸­è¿›è¡ŒéšæœºæŠ½æ ·
import numpy as np 

a = np.array([1,2,3,4,5,6,7])

b = np.random.choice(a, size=5, replace=False) # ***.choiceè¡¨ç¤ºéšæœºæŠ½å–***

print(b)

## 6.è®¡ç®—æ•°ç»„çš„ç™¾åˆ†ä½æ•°
import numpy as np 

a = np.array([1,2,3,4,5,6,7])

print(np.percentile(a,[25,50,75])) # ***.percentileè¡¨ç¤ºè®¡ç®—ç™¾åˆ†ä½æ•°***

## 7.è®¡ç®—æ•°ç»„çš„åæ–¹å·®çŸ©é˜µ
import numpy as np 

a = np.array([[1,2,3],[5,4,6],[9,1,4]]) 

print(np.cov(a))  # ***.covè¡¨ç¤ºè®¡ç®—åæ–¹å·®***

## 8.è®¡ç®—æ•°ç»„çš„ç›¸å…³ç³»æ•°çŸ©é˜µ
import numpy as np 

a = np.array([[1,2,3],[5,4,6],[9,1,4]])

print(np.corrcoef(a)) # ***.corrcoefè¡¨ç¤ºè®¡ç®—ç›¸å…³ç³»æ•°***

## 9.è®¡ç®—æ•°ç»„çš„ç›´æ–¹å›¾
import numpy as np 

data = np.random.normal(0,1,1000) # ***.normalè¡¨ç¤ºç”Ÿæˆæ­£æ€åˆ†å¸ƒ***

x,y = np.histogram(data, bins=10) # ***.histogramè¡¨ç¤ºè®¡ç®—ç›´æ–¹å›¾***

print(x,y)

## 10.è®¡ç®—æ•°ç»„çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°
import numpy as np 

data = np.random.normal(0,1,1000)

c = np.sort(data)

df = np.arange(1,len(c)+1) / len(c)  # ***len(array) æ˜¯ Python ä¸­ç”¨æ¥â€œæ•°ä¸€ä¸‹æ•°ç»„é‡Œæœ‰å‡ ä¸ªå…ƒç´ â€çš„å‡½æ•°ã€‚***

print(df)


## ä¸­çº§ç»ƒä¹ é¢˜ä¹‹éšæœºæ•°ä¸ç»Ÿè®¡çš„æ€»ç»“
- np.random.rand() æ˜¯Numpyä¸­éšæœºç”Ÿæˆæ•°ç»„ï¼Œå…¶ä¸­randè¡¨ç¤ºå‡åŒ€åˆ†å¸ƒï¼ŒèŒƒå›´[0,1)

- np.random.randn() æ˜¯Numpyä¸­éšæœºç”Ÿæˆæ•°ç»„ å…¶ä¸­randnè¡¨ç¤ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼ŒèŒƒå›´ï¼ˆ-âˆï¼Œ+âˆï¼‰

- np.random.randint() æ˜¯Numpyä¸­éšæœºç”Ÿæˆæ•°ç»„ å…¶ä¸­randintè¡¨ç¤ºç¦»æ•£åˆ†å¸ƒ è¯­æ³•:numpy.random.randint(low, high=None, size=None, dtype=int) lowè¡¨ç¤ºéšæœºæ•°çš„æœ€å°å€¼ï¼Œhighè¡¨ç¤ºéšæœºæ•°çš„æœ€å¤§å€¼ï¼Œä¸åŒ…å«æ­¤å€¼ï¼Œsizeè¡¨ç¤ºè¾“å‡ºæ•°ç»„çš„å½¢çŠ¶(ä¾‹å¦‚10ï¼Œï¼ˆ3ï¼Œ4ï¼‰)ï¼Œdtypeè¡¨ç¤ºæ•°æ®ç±»å‹

- np.random.shuffle() æ˜¯Numpyä¸­åŸåœ°æ‰“ä¹±æ•°ç»„é¡ºåºï¼ˆé€‚ç”¨äºä¸€ç»´æˆ–å¤šç»´æ•°ç»„çš„ç¬¬ä¸€ç»´ï¼‰ è¯­æ³•:np.random.shuffle(x) xè¡¨ç¤ºéœ€è¦æ‰“ä¹±é¡ºåºçš„æ•°ç»„(å¯ä»¥æ˜¯å¤šç»´æ•°ç»„ï¼Œä½†åªæ‰“ä¹±ç¬¬ä¸€ç»´)

- np.random.choice() æ˜¯ NumPyä¸­ç”¨äºä»ç»™å®šçš„æ•°ç»„æˆ–æ•´æ•°èŒƒå›´ä¸­éšæœºæŠ½å–å…ƒç´  è¯­æ³•:np.random.choice(a, size=None, replace=True, p=None) aå¦‚æœè¡¨ç¤ºæ•°ç»„ï¼Œåˆ™ä»æ•°ç»„ä¸­éšæœºæŠ½å–ï¼Œå¦‚æœæ˜¯æ•´æ•°nï¼Œå°±ç›¸å½“äºä»np.arange(n)ä¸­é€‰ sizeè¡¨ç¤ºè¦è¿”å›çš„æ•°é‡ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…ƒç»„ replaceè¡¨ç¤ºæ˜¯å¦å¯ä»¥é‡å¤é€‰æ‹©(é»˜è®¤ä¸ºTrue)ï¼Œå¦‚æœä¸ºFalseï¼Œè¡¨ç¤ºä¸æ”¾å›æŠ½æ · pè¡¨ç¤ºæ¯ä¸€ä¸ªè¢«é€‰ä¸­å…ƒç´ çš„æ¦‚ç‡ï¼Œé»˜è®¤ä¸ºç­‰æ¦‚ç‡

- np.percentile() æ˜¯ NumPyä¸­ç”¨äºè®¡ç®—æ•°ç»„ä¸­æŸä¸ªæˆ–æŸäº›ç™¾åˆ†ä½æ•° è¯­æ³•:np.percentile(a, q, axis=None, out=None, interpolation='linear', keepdims=False, method='linear')aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œqè¡¨ç¤ºç™¾åˆ†ä½æ•°å€¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°æˆ–ä¸€ä¸ªæ•°ç»„ï¼ŒèŒƒå›´æ˜¯0ï½100ï¼Œaxisè¡¨ç¤ºæ²¿å“ªä¸ªè½´è®¡ç®—ç™¾åˆ†ä½æ•°ï¼Œé»˜è®¤å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œè®¡ç®—ï¼Œinterpolation(method)è¡¨ç¤ºå®šä¹‰ç™¾åˆ†ä½è®¡ç®—æ–¹å¼(å¦‚'linear','nearest','midpoint'ç­‰)ï¼Œkeepdimsè¡¨ç¤ºæ˜¯å¦ä¿ç•™åŸå§‹ç»´åº¦

- np.cov() æ˜¯ NumPyä¸­ç”¨äºè®¡ç®—åæ–¹å·®çŸ©é˜µ è¯­æ³•:np.cov(m, y=None, rowvar=True, bias=False, ddof=None, fweights=None, aweights=None) mè¡¨ç¤ºè¾“å…¥çš„æ•°ç»„ã€‚å¯ä»¥æ˜¯ä¸€ç»´æˆ–äºŒç»´ï¼Œyè¡¨ç¤ºå¯é€‰çš„ç¬¬äºŒä¸ªæ•°æ®æ•°ç»„ï¼ˆç”¨äºä¸¤ä¸ªå˜é‡çš„åæ–¹å·®ï¼‰ï¼Œrowvarè¡¨ç¤ºé»˜è®¤ä¸º Trueï¼Œè¡¨ç¤ºæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå˜é‡ï¼Œæ¯ä¸€åˆ—æ˜¯ä¸€ä¸ªè§‚æµ‹æ ·æœ¬ï¼›å¦‚æœä¸º Falseï¼Œè¡¨ç¤ºæ¯åˆ—æ˜¯ä¸€ä¸ªå˜é‡ï¼Œbiasè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨æœ‰åä¼°è®¡ï¼ˆé™¤ä»¥ Nï¼‰è€Œä¸æ˜¯æ— åä¼°è®¡ï¼ˆé™¤ä»¥ N-1ï¼‰ã€‚é»˜è®¤æ˜¯ Falseï¼ˆä½¿ç”¨æ— åä¼°è®¡ï¼‰ï¼Œddofè¡¨ç¤ºè‡ªç”±åº¦è°ƒæ•´ï¼Œè¦†ç›–biasï¼Œfweightsè¡¨ç¤ºæ•´æ•°å‹é¢‘ç‡æƒé‡ï¼Œaweightsè¡¨ç¤ºå®æ•°å‹æƒé‡
 
 - np.random.normal() ç”¨æ¥ç”Ÿæˆæ­£æ€åˆ†å¸ƒæ•°æ®  è¯­æ³•:np.random.normal(loc=0.0, scale=1.0, size=None) locè¡¨ç¤ºæ­£æ€åˆ†å¸ƒçš„ å‡å€¼ Î¼ï¼ˆé»˜è®¤æ˜¯ 0ï¼‰ï¼Œscaleè¡¨ç¤ºæ­£æ€åˆ†å¸ƒçš„ æ ‡å‡†å·® Ïƒï¼ˆé»˜è®¤æ˜¯ 1ï¼‰ï¼Œsizeè¡¨ç¤ºè¾“å‡ºæ ·æœ¬æ•°é‡ï¼ˆå¯ä»¥æ˜¯æ•´æ•°æˆ–å…ƒç»„ï¼‰

 - np.histogram() ç”¨æ¥ç»Ÿè®¡ç›´æ–¹å›¾æ•°æ®  è¯­æ³•:np.histogram(a, bins=10, range=None, density=False, weights=None) aè¡¨ç¤ºè¾“å…¥çš„åŸå§‹æ•°æ®ï¼ˆé€šå¸¸æ˜¯ 1 ç»´æ•°ç»„ï¼‰ binsè¡¨ç¤ºåˆ†ç®±æ•°é‡ï¼Œæˆ–æŒ‡å®šçš„åˆ†ç®±è¾¹ç•Œï¼ˆé»˜è®¤ä¸º 10 ä¸ªï¼‰ rangeè¡¨ç¤ºæŒ‡å®šèŒƒå›´ (min, max)ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„ä¸ä¼šè®¡å…¥ densityè¡¨ç¤ºæ˜¯å¦è¿”å›æ¦‚ç‡å¯†åº¦è€Œéé¢‘æ•°ï¼ˆé»˜è®¤ä¸º Falseï¼‰ weightsè¡¨ç¤ºæƒé‡æ•°ç»„ï¼Œä¸è¾“å…¥æ•°æ®åŒç»´åº¦

# Numpyç»ƒä¹ é¢˜ä¹‹ä¸­çº§ç»ƒä¹ é¢˜ çº¿æ€§ä»£æ•°çš„è¿ç®—
## 1.è®¡ç®—çŸ©é˜µçš„è¡Œåˆ—å¼
import numpy as np 

a = np.array([[1,2],[4,5]])

data = np.linalg.det(a) # ***è®¡ç®—çŸ©é˜µè¡Œåˆ—å¼***

print(data)

## 2.è®¡ç®—çŸ©é˜µçš„é€†
import numpy as np 

a = np.array([[1,2],[4,5]])

data = np.linalg.inv(a) #***è®¡ç®—çŸ©é˜µçš„é€†***

print(data)

## 3.è®¡ç®—çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡
import numpy as np 

a = np.array([[1,2],[4,5]])

data,value = np.linalg.eig(a) # ***è®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡***

print(data,value)

## 4.è§£çº¿æ€§æ–¹ç¨‹ç»„
import numpy as np 

a = np.array([[1,2],[4,5]])

b = np.array([2,1])

data = np.linalg.solve(a,b)  # ***è§£æ–¹ç¨‹ç»„***

print(data)

## 5.è®¡ç®—çŸ©é˜µçš„å¥‡å¼‚å€¼åˆ†è§£
import numpy as np 

a = np.array([[1,2],[4,5]])

u,s,v = np.linalg.svd(a) # ***å¥‡å¼‚å€¼åˆ†è§£***

print(u)
print(s)
print(v)

## 6.è®¡ç®—çŸ©é˜µçš„QRåˆ†è§£
import numpy as np 

a = np.array([[1,2],[4,5]])

q,r = np.linalg.qr(a) # ***QRåˆ†è§£***

print(q,r)

## 7.è®¡ç®—çŸ©é˜µçš„Choleskyåˆ†è§£
import numpy as np 

a = np.array([[2,-1],[-1,2]])

data = np.linalg.cholesky(a) # ***Choleskyåˆ†è§£***

print(data)

## 8.è®¡ç®—çŸ©é˜µçš„è¿¹
import numpy as np 

a = np.array([[1,2],[4,5]]) 

print(np.trace(a)) # ***è¿¹***

## 9.è®¡ç®—çŸ©é˜µçš„èŒƒæ•°
import numpy as np 

a = np.array([[1,2],[4,5]])

data = np.linalg.norm(a)  # ***èŒƒæ•°***

print(data)

## 10.è®¡ç®—çŸ©é˜µçš„ç§©
import numpy as np 

a = np.array([[1,2],[4,5]])

data = np.linalg.matrix_rank(a) # ***ç§©***

print(data)



## ä¸­çº§ç»ƒä¹ é¢˜ä¹‹çº¿æ€§ä»£æ•°çš„è¿ç®—çš„æ€»ç»“
- np.linalg.det() æ˜¯Numpyä¸­ç”¨äºè®¡ç®—çŸ©é˜µè¡Œåˆ—å¼çš„å‡½æ•° è¯­æ³•:np.linalg.det(a) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ–¹é˜µï¼ˆäºŒç»´ï¼Œä¸”è¡Œæ•°=åˆ—æ•°ï¼‰

- np.linalg.inv()  æ˜¯Numpyä¸­ç”¨äºè®¡ç®—çŸ©é˜µçš„é€†çŸ©é˜µçš„å‡½æ•° è¯­æ³•:np.linalg.inv(a) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ–¹é˜µ

- np.linalg.eig() æ˜¯Numpyä¸­ç”¨äºè®¡ç®—çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„å‡½æ•° è¯­æ³•:np.linalg.eig(a) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ–¹é˜µ

- np.linalg.solve() æ˜¯ NumPyä¸­ç”¨äºè§£çº¿æ€§æ–¹ç¨‹ç»„çš„å‡½æ•° è¯­æ³•:numpy.linalg.solve(a, b) aè¡¨ç¤ºè¾“å…¥æ•°ç»„ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ–¹é˜µ bè¡¨ç¤ºå¸¸æ•°é¡¹å‘é‡æˆ–çŸ©é˜µ

- np.linalg.svd() æ˜¯ NumPyä¸­ç”¨äºæ‰§è¡Œå¥‡å¼‚å€¼åˆ†è§£çš„å‡½æ•°ï¼Œåœ¨æ•°æ®å‹ç¼©ï¼Œä¸»æˆåˆ†åˆ†æï¼Œæ¨èç³»ç»Ÿç­‰é¢†åŸŸå¹¿æ³›åº”ç”¨ è¯­æ³•:numpy.linalg.svd(a, full_matrices=True, compute_uv=True, hermitian=False) aè¡¨ç¤ºè¦åˆ†è§£çš„åŸå§‹çŸ©é˜µ full_matricesé»˜è®¤ä¸ºTrueï¼Œæ˜¯å¦è¿”å›å®Œæ•´çš„Uå’ŒVçŸ©é˜µ compute_uvè¡¨ç¤ºæ˜¯å¦è®¡ç®—å¹¶è¿”å›Uå’ŒVçš„å€¼ï¼Œ(è®¾ç½®ä¸ºFalseåªè¿”å›å¥‡å¼‚å€¼) hermitianè¡¨ç¤ºé’ˆå¯¹å¯¹ç§°çŸ©é˜µä¼˜åŒ–ï¼Œä¸€èˆ¬ä¿æŒä¸ºFalse

- np.linalg.qr() æ˜¯ NumPy ä¸­ç”¨äºæ‰§è¡Œ QR åˆ†è§£çš„å‡½æ•°ï¼Œåœ¨æ•°å€¼åˆ†æï¼Œæœ€å°äºŒä¹˜æ³•è§£çº¿æ€§æ–¹ç¨‹ç»„ç­‰é¢†åŸŸéå¸¸å¸¸è§ è¯­æ³•:np.linalg.qr(a,mode='reduced') aè¡¨ç¤ºè¾“å…¥çŸ©é˜µï¼ŒäºŒç»´(å¯ä»¥æ˜¯æ–¹é˜µï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯)
modeè¡¨ç¤ºæ§åˆ¶è¿”å›ç»“æœçš„å½¢çŠ¶ï¼Œå¸¸è§æœ‰ä¸‰ç§ï¼šâ€˜reducedâ€™ï¼Œâ€˜completeâ€˜ï¼Œâ€˜raw'é»˜è®¤æ˜¯â€˜reduced'

- np.linalg.cholesky() æ˜¯ NumPy ä¸­ç”¨äºæ‰§è¡Œ Cholesky åˆ†è§£çš„å‡½æ•° è¯­æ³•:numpy.linalg.cholesky(a) aè¡¨ç¤ºä¸€ä¸ªå¯¹ç§°æ­£å®šçŸ©é˜µï¼Œa.T == a ä¸”æ‰€æœ‰ç‰¹å¾>0(æ­£å®š)

- np.trace() æ˜¯ NumPy ä¸­ç”¨æ¥è®¡ç®— çŸ©é˜µä¸»å¯¹è§’çº¿å…ƒç´ ä¹‹å’Œï¼ˆè¿¹ï¼‰çš„å‡½æ•° è¯­æ³•:numpy.trace(a, offset=0, axis1=0, axis2=1, dtype=None, out=None) aè¡¨ç¤ºä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè¿”å›ä¸»å¯¹è§’çº¿(ä»å·¦ä¸Šåˆ°å³ä¸‹)çš„å…ƒç´ ä¹‹å’Œ  offseté»˜è®¤æ˜¯0ï¼Œè¡¨ç¤ºä¸»å¯¹è§’çº¿ã€‚å¦‚æœæ˜¯æ­£æ•°ï¼Œè¡¨ç¤ºä¸Šå¯¹è§’çº¿ï¼›è´Ÿæ•°è¡¨ç¤ºä¸‹å¯¹è§’çº¿  axis1/axis2æŒ‡å®šäºŒç»´çŸ©é˜µçš„å“ªä¸¤ä¸ªè½´è¿›è¡Œè¿½è¸ªï¼ˆé«˜çº§ç”¨æ³•ï¼‰
 
 - np.linalg.norm() æ˜¯ NumPy ä¸­ç”¨äºè®¡ç®— å‘é‡æˆ–çŸ©é˜µçš„èŒƒæ•°ï¼ˆnormï¼‰çš„å‡½æ•°ã€‚èŒƒæ•°è¡¨ç¤ºå‘é‡æˆ–çŸ©é˜µçš„â€œé•¿åº¦â€æˆ–â€œå¤§å°â€ï¼Œåœ¨æ•°å€¼è®¡ç®—ã€ä¼˜åŒ–ã€æœºå™¨å­¦ä¹ ä¸­éå¸¸å¸¸ç”¨ è¯­æ³•:numpy.linalg.norm(x, ord=None, axis=None, keepdims=False) aè¡¨ç¤ºè¾“å…¥çš„å‘é‡æˆ–çŸ©é˜µ  ordè¡¨ç¤ºèŒƒæ•°ç±»å‹ï¼Œå†³å®šè®¡ç®—å“ªç§'å¤§å°'  axisè¡¨ç¤ºè®¡ç®—çš„è½´  keepdimsè¡¨ç¤ºæ˜¯å¦ä¿æŒçº¬åº¦ä¸€ç›´ï¼Œé»˜è®¤æ˜¯False

- np.linalg.matrix_rank() æ˜¯ NumPy ä¸­ç”¨æ¥è®¡ç®— çŸ©é˜µçš„ç§©ï¼ˆRankï¼‰çš„å‡½æ•°ã€‚ è¯­æ³•:numpy.linalg.matrix_rank(M, tol=None) Mè¡¨ç¤ºè¾“å…¥çš„çŸ©é˜µï¼ˆäºŒç»´æ•°ç»„ï¼‰ tolè¡¨ç¤ºåˆ¤å®šçŸ©é˜µæ˜¯å¦ä¸ºâ€œé›¶â€çš„å®¹å·®ï¼Œé»˜è®¤è‡ªåŠ¨è®¾å®šï¼Œé€šå¸¸ä¸ç”¨æ”¹

# Numpyç»ƒä¹ é¢˜ä¹‹é«˜çº§ç»ƒä¹ é¢˜ é«˜çº§åº”ç”¨
## 1.å®ç°ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œå‰å‘ä¼ æ’­
import numpy as np 

def name_df(x):  ***æ¿€æ´»å‡½æ•°***

    return 1 / (1+np.exp(-x))

def name_df1(X,W1,b1,W2,b2):   ***å‰å‘ä¼ æ’­  æ¯ä¸€å±‚çš„å‰å‘ä¼ æ’­ = çº¿æ€§å˜åŒ– + éçº¿æ€§æ¿€æ´» *** 

    df1 = name_df(X @ W1 + b1)      ***éšè—å±‚***  #  @ æ˜¯Numpyä¸­çš„çŸ©é˜µä¹˜æ³•ï¼Œå’Œnp.dot()åŠŸèƒ½ç±»ä¼¼
    df2 = name_df(df1 @ W2 + b2)   ***è¾“å‡ºå±‚***
    return df2

X = np.random.randn(3,4)

W1 = np.random.randn(4,5)

b1 = np.random.randn(5)

W2 = np.random.randn(5,2)

b2 = np.random.randn(2)

print(name_df1(X,W1,b1,W2,b2))

## 2.è®¡ç®—ä¸¤ä¸ªçŸ©é˜µçš„å·ç§¯ ï¼ˆ2ç»´å·ç§¯ convolveç”¨æ¥å¤„ç†ä¸€ç»´å·ç§¯ è€Œconvolve2dç”¨æ¥å¤„ç†äºŒç»´å·ç§¯ï¼‰
import numpy as np 

from scipy.signal import convolve2d     # ***å¯¼å…¥åº“***

a = np.array([[1,2,3],[4,5,6],[7,8,9]])

b = np.array([[1,0],[0,1]])

c = convolve2d(a,b, mode='valid')

print(c)

## 3.å®ç°å›¾åƒå¤„ç†ä¸­çš„æ»¤æ³¢æ“ä½œ ï¼ˆé«˜æ–¯æ»¤æ³¢æ–¹æ³•ï¼‰
import numpy as np 

from scipy.ndimage import gaussian_filter  # ***å¯¼å…¥åº“ é«˜æ–¯***

a = np.random.rand(100,100) * 255  # ***æ¨¡æ‹Ÿå™ªå£°å›¾åƒ å°† [0,1] èŒƒå›´çš„å€¼è½¬æ¢ä¸º [0,255] ç°åº¦å›¾å€¼*** 

c = gaussian_filter(a, sigma=1) # ***å¯¹ä»»æ„ç»´åº¦çš„æ•°ç»„è¿›è¡Œé«˜æ–¯æ¨¡ç³Šï¼ˆä¸ä»…é™äºå›¾åƒï¼‰***

print(c)

## 4.è®¡ç®—æ•°ç»„çš„å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ ï¼ˆå‚…é‡Œå¶å˜æ¢æ˜¯ä¸€ç§å°†æ—¶åŸŸä¿¡å·è½¬åŒ–ä¸ºé¢‘åŸŸä¿¡å·çš„æ•°å­¦å·¥å…·ï¼‰
import numpy as np 
 
a = np.array([1,2,1,3,1,4])  # ***æ¨¡æ‹Ÿä¸€ä¸ªæ—¶é—´åºåˆ—ï¼Œå¯ä»¥æ˜¯éŸ³é¢‘ç‰‡æ®µã€å›¾åƒè¡Œã€ä¼ æ„Ÿå™¨æ•°æ®***

c = np.fft.fft(a) # ***æ‰§è¡Œå¿«é€Ÿå‚…é‡Œå¶å˜æ¢***

print(c)

## 5.è®¡ç®—æ•°ç»„çš„é€†å‚…é‡Œå¶å˜æ¢ (ä»é¢‘åŸŸè¿˜åŸå›æ—¶åŸŸ)
import numpy as np 

a = np.array([1,2,1,3,1,4])

c = np.fft.ifft(a)  # ***é€†å¿«é€Ÿå‚…é‡Œå¶å˜æ¢***

print(np.real(c)) # ***np.real()å–å‡ºå¤æ•°çš„å®éƒ¨ï¼Œé¿å…å¹²æ‰°åç»­è®¡ç®—æˆ–æ˜¾ç¤º***

# Numpyç»ƒä¹ é¢˜ä¹‹é«˜çº§ç»ƒä¹ é¢˜ æ€§èƒ½ä¼˜åŒ–
## 1.å‘é‡åŒ–ä»£æ›¿å¾ªç¯ ï¼ˆğŸ§  â€œä¸è¦åœ¨ NumPy ä¸­å†™ for å¾ªç¯â€ å› ä¸ºåœ¨å¤„ç†å¤§è§„æ¨¡æ•°ç»„æˆ–çŸ©é˜µæ—¶ï¼šPython çš„ for å¾ªç¯æ˜¯æ…¢çš„ï¼Œå› ä¸ºå®ƒæ˜¯è§£é‡Šæ‰§è¡Œ è€ŒNumPy å‘é‡åŒ–æ˜¯â€œåº•å±‚å®ç°é«˜æ•ˆå¹¶è¡Œâ€çš„æ–¹æ¡ˆï¼Œé€Ÿåº¦å¯å¿«å‡ åå€ç”šè‡³ç™¾å€ï¼‰
import numpy as np 

import timeit  # ***æµ‹é‡è¿è¡Œæ—¶é—´***

***é—®é¢˜ï¼šè®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹å’Œï¼Œåˆ†åˆ«ç”¨å¾ªç¯å’Œå‘é‡åŒ–æ“ä½œå®ç°ï¼Œæ¯”è¾ƒæ€§èƒ½***
  
arr = np.random.rand(10**6)  # ***ç”Ÿæˆ100ä¸‡ä¸ªæ•°æ®***

***æ–¹æ³•1:å¾ªç¯è®¡ç®—***

def name_df():

    nums = 0
    for x in arr:
        nums += x**2
    return nums

***æ–¹æ³•2:å‘é‡åŒ–è®¡ç®—***

def name_df1():

    return np.sum(arr**2)

name1 = timeit.timeit(name_df, number=10)

name2 = timeit.timeit(name_df1,number=10)

print(name1)  ***å‘é‡åŒ–çš„æ€§èƒ½ä¼˜äºå¾ªç¯***

print(name2)

## 2.è§†å›¾ä¸æ‹·è´çš„å†…å­˜ä¼˜åŒ– ***å¦‚æœä¸æƒ³å½±å“åŸå§‹æ•°æ®ï¼Œä½†åˆè¦ä¿®æ”¹æ•°æ®ï¼Œè¯·åŠ¡å¿…ç”¨copyæ–¹æ³•***
import numpy as np 

***é—®é¢˜ï¼šæœ‰ä¸€ä¸ªå¤§æ•°ç»„ï¼Œå–å…¶å‰åŠéƒ¨ä»½ã€‚å¦‚ä½•é¿å…ä¸å¿…è¦çš„å†…å­˜æ‹·è´ï¼Ÿ***

arr = np.random.rand(10**7)

***è§†å›¾ï¼ˆä¸ä¼šå¤åˆ¶æ•°æ®ï¼ŒèŠ‚çœå†…å­˜ï¼‰***

view = arr[:len(arr)//2]  ***å…±äº«åŸæ•°æ®å†…å­˜***  ***arr[:len(arr)//2]è¡¨ç¤ºå–å‰ä¸€åŠçš„å…ƒç´ ***

***æ‹·è´ï¼ˆä¼šå¤åˆ¶æ•°ç»„ï¼Œå ç”¨é¢å¤–å†…å­˜ï¼‰***

copy = arr[:len(arr)//2].copy()  ***æµªè´¹å†…å­˜***

print(f"view.nbytesä¸º: ",view.nbytes,"MB ")  ***.nbytes æ•´ä¸ªæ•°ç»„çš„å†…å­˜å ç”¨***

print(f"copy.nbytesä¸º: ",copy.nbytes,"MB")  

## 3.é€‰æ‹©é€‚åˆçš„æ•°æ®ç±»å‹
import numpy as np 

***é—®é¢˜ï¼šå­˜é†‹0-255èŒƒå›´å†…çš„æ•´æ•°ï¼Œä½¿ç”¨å“ªç§Numpyæ•°æ®ç±»å‹æœ€èŠ‚çœå†…å­˜ï¼Ÿ***

a = np.array([100,300,500],dtype=np.int32) 

 ***dtype=int å’Œ dtype=np.int32çš„åŒºåˆ«:dtype=intæ˜¯å¹³å°ç›¸å…³çš„æ•´æ•°ç±»å‹ï¼Œè€Œdtype=np.int32æ˜¯å›ºå®šçš„æ•´æ•°ç±»å‹ï¼Œä½†åœ¨æ·±åº¦å­¦ä¹ ä»¥åŠå›¾åƒå¤„ç†ä¸­ï¼Œæœ€å¥½æ˜¯ç”¨dtype=np.int32***

print(a)

## 4.ä½¿ç”¨Numpyå†…ç½®å‡½æ•° (æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œçœ‹ä¾‹å­å°±çŸ¥é“äº†)
import numpy as np

a = np.array([12,23,11])

print(a)

## 5.é¿å…é‡å¤è®¡ç®—ä¸­é—´ç»“æœ
import numpy as np 

***é—®é¢˜:è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹å†æ±‚å’Œï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ***

a = np.random.rand(10**7)

***é”™è¯¯çš„æ–¹æ³• bad idea ä¼šå¯¼è‡´å†…å­˜çš„å¢å¤š***

names = a**2

s = np.sum(names)

print(s)

***æ­£ç¡®çš„æ–¹æ³• good idea***

print(np.sum(a**2))

# Numpyç»ƒä¹ é¢˜ä¹‹é«˜çº§ç»ƒä¹ é¢˜ ç»¼åˆé¡¹ç›®
## 1.å¤§å‹æ•°æ®å¤„ç†ä¼˜åŒ–

***é¢˜ç›®ï¼š å‡è®¾ä½ æœ‰ä¸€ä¸ª1äº¿å…ƒç´ çš„æµ®ç‚¹æ•°ç»„ï¼Œéœ€è¦è®¡ç®—æ»‘åŠ¨å¹³å‡(çª—å£å¤§å°ä¸º100)ï¼Œå¦‚ä½•é«˜æ•ˆå®ç°å¹¶é¿å…å†…å­˜é—®é¢˜***

- è§£ç­”

    - 1.å¯ä»¥ä½¿ç”¨Numpyå½“ä¸­çš„åˆ›å»ºæ»‘åŠ¨çª—å£è§†å›¾å‡½æ•°æ–¹æ³•å»å¤„ç†ï¼Œè€Œéå‰¯æœ¬ã€‚

    - 2.å¤§å‹å¤„ç†å—è¿™é‡Œå¯ä»¥ä½¿ç”¨å°†æ•°ç»„åˆ†æˆé€‚å½“å¤§å°çš„å—è¿›è¡Œå¤„ç†ã€‚ ***chunk_size=10**6***

    - 3.å¤„ç†è¾¹ç•Œæƒ…å†µã€‚

    - 4.æä¾›ä¸€ä¸ªå†…å­˜ä¼˜åŒ–æ–¹æ¡ˆï¼šä¼˜åŒ–æµ®ç‚¹æ•°ç»„çš„å­—èŠ‚å¤§å°æ¥å‡å°‘å†…å­˜å ç”¨

 ***ä»£ç å±•ç¤º***

import numpy as np 

from numpy.lib.stride_tricks import sliding_window_view  ***å¯¼å…¥åº“ï¼šæ»‘åŠ¨çª—å£è§†å›¾***

***åˆ›å»ºæ»‘åŠ¨çª—å£è§†å›¾å‡½æ•°ï¼Œå…¶ä¸­(chunk_size=10**6)ç”¨äºåˆ†å—å¤„ç†é˜²æ­¢å†…å­˜çˆ†ç‚¸ï¼Œé»˜è®¤æ¯æ¬¡æ˜¯100ä¸‡ä¸ª***

def sliding_mean_large_array(data, window_size=100, chunk_size=10**6):  
- é«˜æ•ˆæ»‘åŠ¨å¹³å‡å®ç°ï¼š

    - ä½¿ç”¨ sliding_window_view é¿å…å¤åˆ¶

    - æ”¯æŒåˆ†å—å¤„ç†å¤§æ•°æ®

    - ä½¿ç”¨ float32 å‡å°‘å†…å­˜

    - è‡ªåŠ¨å¤„ç†è¾¹ç•Œé‡å 

    data = np.asarray(data, dtype=np.float32)   ***ä½¿ç”¨ np.asarrayçš„æ–¹æ³•,ç¡®ä¿ä¼ å…¥çš„dataæ˜¯ä¸€ä¸ªNumpyçš„æ•°ç»„***

    n = len(data)  ***è·å–nçš„é•¿åº¦***

    if data.ndim != 1:

        raise ValueError("è¾“å…¥æ•°æ®å¿…é¡»ä¸ºä¸€ç»´æ•°ç»„")

    if n < window_size:

***raiseæ˜¯Pythonä¸­ç”¨äºä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸çš„å…³é”®å­—ï¼Œå½“ç¨‹åºé‡åˆ°æ— æ³•ç»§ç»­æ‰§è¡Œçš„é”™è¯¯æ¡ä»¶æ—¶ï¼Œå¼ºåˆ¶ä¸­æ–­å½“å‰æµç¨‹ï¼Œå¹¶å‘ä¸Šå±‚ä¼ é€’é”™è¯¯ä¿¡æ¯***
        raise ValueError("æ•°ç»„é•¿åº¦å°äºæ»‘åŠ¨çª—å£å¤§å°") 
        
    result = []

***æ¯å—å¤„ç†å¤§å°éœ€åŒ…å«å‰å window_size -1 çš„é‡å ï¼Œç”±äºçª—å£å¤§å°æ˜¯100ï¼Œå³å‰é¢çš„99ä¸ªå…ƒç´ éƒ½æ˜¯é‡å¤çš„***

    overlap = window_size - 1  

    start = 0

***å°†è¶…å¤§æ•°ç»„ data åˆ†æˆå¤šä¸ªå°å—ï¼Œé€å—é«˜æ•ˆåœ°è®¡ç®—æ»‘åŠ¨å¹³å‡å€¼ï¼ˆå«çª—å£é‡å ï¼‰ï¼Œæœ€ç»ˆæ‹¼æ¥å‡ºå®Œæ•´ç»“æœï¼Œé¿å…å†…å­˜çˆ†ç‚¸***
    while start < n:  

 ***è¿™ä¸ª min() æ˜¯ä¸ºäº†é˜²æ­¢è¶Šç•Œï¼ŒåŒæ—¶ç¡®ä¿æœ€åä¸€ä¸ªå¤„ç†å—ä¸ä¼šå‡ºé”™æˆ–ç¼ºå¤±æ»‘åŠ¨çª—å£æ•°æ®***
        end = min(start + chunk_size + overlap, n)  

        block = data[start:end]

     #åˆ›å»ºæ»‘åŠ¨çª—å£è§†å›¾ï¼ˆä¸ä¼šå¤åˆ¶ï¼‰

        windows = sliding_window_view(block, window_shape=window_size)

***axis=-1è¡¨ç¤ºæœ€åä¸€ä¸ªç»´åº¦ï¼Œå› ä¸ºwindow_size=100,æ‰€ä»¥å‰99ä¸ªéƒ½æ˜¯æ— æ•ˆçš„ï¼Œæ‰€ä»¥åªéœ€è¦è®¡ç®—æœ€åä¸€ä¸ªå³å¯***
        mean_block = windows.mean(axis=-1) 

        #å¦‚æœä¸æ˜¯é¦–å—å°±å»æ‰é‡å å‰ç¼€éƒ¨ä»½

        if start != 0:
***é¿å…é‡å¤è®¡ç®—***
            mean_block = mean_block[overlap:] 

        result.append(mean_block)

        start += chunk_size

***åˆå¹¶æ•°æ®ï¼Œåœ¨æ»‘åŠ¨å¹³å‡è®¡ç®—ä¸­ï¼Œå°†å‰æ— æ•ˆçª—å£ï¼ˆè¡¥ NaNï¼‰å’Œæœ‰æ•ˆæ»‘åŠ¨å¹³å‡ç»“æœæ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆå®Œæ•´è¾“å‡º***
    return np.concatenate(result)  

***astype() æ˜¯ NumPy æ•°ç»„çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥è½¬æ¢æ•°ç»„çš„æ•°æ®ç±»å‹***

data = np.random.rand(10**8).astype(np.float32)   

avg = sliding_mean_large_array(data,window_size=100,chunk_size=10**6)

print(avg.shape)    ***shapeæ˜¯Numpyæ•°ç»„ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨äºè·å–æ•°ç»„çš„ç»´åº¦ä¿¡æ¯(å³å„è½´çš„é•¿åº¦)***

## 2.å¤šç»´æ•°ç»„æ“ä½œ
***é¢˜ç›®ï¼šç»™å®šå½¢çŠ¶ä¸º(1000,1000, 3)çš„RGBå›¾åƒæ•°ç»„ï¼Œå¦‚ä½•é«˜æ•ˆåœ°ï¼š1.è½¬æ¢ä¸ºç°åº¦å›¾åƒ 2.åº”ç”¨é«˜æ–¯æ¨¡ç³Š 3.æ‰¾å‡ºæ‰€æœ‰äº®åº¦å¤§äº0.6çš„åƒç´ åæ ‡***

- è§£ç­”
    - 1.è¿›è¡Œç°åº¦å›¾åƒè½¬æ¢(é¿å…å¾ªç¯)
    - 2.ä½¿ç”¨å¹¿æ’­æ–¹æ³•å®ç°å‘é‡åŒ–é«˜æ–¯æ¨¡ç³Š
    - 3.æ¡ä»¶æŸ¥æ‰¾åƒç´ åæ ‡

***ä»£ç å±•ç¤º***
import numpy as np 

from scipy.ndimage import gaussian_filter  ***å¯¼å…¥ç›¸å…³åº“***

img = np.random.rand(100,100,3)  ***æ„é€ ä¸€ä¸ªæ¨¡æ‹Ÿ RGB å›¾åƒï¼ˆèŒƒå›´ [0,1]) 100è¡Œ100åˆ—çš„ä¸‰ç»´æ•°ç»„***

***ä½¿ç”¨åŠ æƒå¹³å‡æ³•æ±‚ç°åº¦å€¼=0.2989*R + 0.5870*G + 0.1140*B***

gray = np.dot(img[...,:3],[0.2989,0.5870,0.1140])  ***img[...,:3]è¡¨ç¤ºä¿ç•™æ‰€æœ‰è¡Œåˆ—,ä»…å–å‰3ä¸ªé€šé“(R,G,B) ç”±äºå¤šç»´æ•°ç»„ä¸­,æœ€åä¸€ä¸ªç»´åº¦é€šå¸¸æ˜¯é¢œè‰²é€šé“ æ‰€ä»¥:3 å°±è¡¨ç¤ºR G Bä¸‰ä¸ªå€¼***

blurred = gaussian_filter(gray,sigma=1) ***é«˜æ–¯æ¨¡ç³Š***

coords = np.argwhere(blurred > 0.6) # ***np.argwhereè¿”å›çš„æ˜¯äºŒç»´æ•°ç»„,æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´åæ ‡ï¼Œä¸åŒäº np.where,å®ƒè¿”å›çš„æ˜¯æ¯ä¸ªè½´ä¸Šçš„ç´¢å¼•æ•°ç»„ç»„æˆçš„å…ƒç»„***

print(coords)

## 3.æ€§èƒ½å…³é”®å‹è®¡ç®—
***é¢˜ç›®ï¼šå®ç°ä¸€ä¸ªå‡½æ•°è®¡ç®—ä¸¤ä¸ªå¤§å‹çŸ©é˜µçš„ä½™å¼¦ç›¸ä¼¼åº¦çŸ©é˜µï¼Œå¹¶ä¼˜åŒ–æ€§èƒ½***

- è§£ç­”
    - 1.ä¼˜åŒ–ç‚¹ç§¯è®¡ç®—
    - 2.å¹¿æ’­æœºåˆ¶é¿å…å¾ªç¯
    - 3.å½’ä¸€åŒ–å¤„ç†ï¼Œä½¿ç”¨å‘é‡åŒ–æ“ä½œ

***ä»£ç å±•ç¤º***
import numpy as np 

def name(A,B):

***å®ç°å½’ä¸€åŒ–çš„æ“ä½œ axis=1è¡¨ç¤ºå¯¹æ¯ä¸€è¡Œæ±‚èŒƒæ•° keepdims=Trueè¡¨ç¤ºä¿æŒæ•°ç»„ç»´åº¦å½¢çŠ¶***
    A_ = A / np.linalg.norm(A,axis=1,keepdims=True)  

    B_ = B / np.linalg.norm(B,axis=1,keepdims=True)

***çŸ©é˜µä¹˜æ³•çš„è§„åˆ™è¦æ±‚ï¼šç¬¬ä¸€ä¸ªçŸ©é˜µçš„åˆ—æ•° å¿…é¡»ç­‰äº ç¬¬äºŒä¸ªçŸ©é˜µçš„è¡Œæ•°***

***è®¡ç®—ä¸¤ä¸ªçŸ©é˜µ A å’Œ B çš„ä½™å¼¦ç›¸ä¼¼åº¦çŸ©é˜µ çš„æ ¸å¿ƒè®¡ç®—å¼*** ***å¦‚æœä¸åŠ .Tåˆ™ä¼šå› ä¸ºç»´åº¦ä¸åŒ¹é…è€ŒæŠ¥é”™ï¼Œ.Tçš„ä½œç”¨æ˜¯ä¸ºäº†è½¬ç½®Bï¼ŒæŠŠBçš„è¡Œå˜åˆ—ï¼Œåˆ—å˜è¡Œ***
    C_ = np.dot(A_,B_.T) 

    return C_

A = np.random.rand(3,4)

B = np.random.rand(3,4)

print(name(A,B))

## 4.å†…å­˜é«˜æ•ˆç®—æ³•
***é¢˜ç›®ï¼šå¤„ç†ä¸¤ä¸ªå½¢çŠ¶ä¸º(1M,256)çš„çŸ©é˜µçš„æˆå¯¹è·ç¦»è®¡ç®—ï¼Œå¦‚ä½•é¿å…å†…å­˜é”™è¯¯ï¼Ÿ***

- è§£ç­”
    - 1.åˆ†å—å¤„ç†æŠ€æœ¯
    - 2.é€‰æ‹©é€‚å½“è·ç¦»åº¦é‡(å¦‚æ¬§å¼è·ç¦») ***æ¬§å¼è·ç¦»å…¬å¼ï¼š||a - b||Â² = ||a||Â² + ||b||Â² - 2âŸ¨a, bâŸ©***
    - 3.è€ƒè™‘å†…å­˜å¸ƒå±€å’Œè¿ç»­æ€§é—®é¢˜
    - 4.ä½¿ç”¨å¯¹åº”å½¢å¼é‡ç”¨å†…å­˜

***ä»£ç å±•ç¤º***
import numpy as np 

def df(A,B, block_size=1000):  ***å®šä¹‰å‡½æ•°***

- åˆ†å—è®¡ç®— A å’Œ B çš„æˆå¯¹æ¬§å¼è·ç¦»ï¼Œé¿å…å†…å­˜æº¢å‡ºã€‚

    - å‚æ•°ï¼š
    - A, B: numpy.ndarrayï¼Œå½¢çŠ¶ä¸º (N, D)
    - block_size: intï¼Œæ¯æ¬¡å¤„ç† A ä¸­çš„è¡Œæ•°
    - è¿”å›ï¼š
    - æ¯æ¬¡è¿”å› (block_size, B.shape[0]) çš„ä¸€ä¸ªæ¬§å¼è·ç¦»å­å—

        A = np.ascontiguousarray(A, dtype=np.float32) ***ä½¿ç”¨ np.ascontiguousarray() ä¿è¯å®ƒæ˜¯å†…å­˜è¿ç»­çš„***

        B = np.ascontiguousarray(B, dtype=np.float32)   
    
***åªè®¡ç®—ä¸€æ¬¡Bçš„èŒƒæ•°å¹³æ–¹ï¼Œå› ä¸ºAè¢«æ‹¿å»åšäº†åˆ†å—ï¼Œå¦‚æœBè¢«æ‹¿å»åšåˆ†å—ï¼Œåˆ™åªè®¡ç®—ä¸€æ¬¡A***
        B_ = np.sum(B**2, axis=1).reshape(1,-1) 

***np.empty() æ˜¯ NumPy ä¸­ç”¨æ¥åˆ›å»ºä¸€ä¸ªæŒ‡å®šå½¢çŠ¶å’Œæ•°æ®ç±»å‹ä½†æœªåˆå§‹åŒ–å†…å®¹çš„æ•°ç»„çš„å‡½æ•°***
- é¢„åˆ†é…ç»“æœæ•°ç»„ï¼Œç”¨äºé‡å¤ä½¿ç”¨
        results = np.empty((block_size,B.shape[0]),dtype=np.float32)  ***shape[0]è¡¨ç¤ºè·å–ç¬¬ä¸€ä¸ªç»´åº¦çš„å¤§å°ï¼Œå³è¡Œæ•° shape[1]è¡¨ç¤ºåˆ—æ•° shape[-1]è¡¨ç¤ºæœ€åä¸€ä¸ªç»´åº¦***

        for i in range(0, A.shape[0], block_size):

***å½“å‰å—***
            A_block = A[i:i+block_size] 

            real_A_block = A_block.shape[0] 

            A_ = np.sum((A_block**2),dtype=np.float32).reshape(-1,1)

            dot = np.dot(A_block, B.T)

***å°†è®¡ç®—ç»“æœå­˜å…¥é¢„åˆ†é…çš„ results æ•°ç»„ä¸­ï¼Œè®¡ç®—çš„æ˜¯[:real_A_block] è¡¨ç¤ºå–real_A_blockçš„å‰é¢è¡Œ***
            np.subtract(A_ + B_, 2 * dot, out=results[:real_A_block])  

- np.subtract æ˜¯ NumPy ä¸­çš„å‡æ³•å‡½æ•°ï¼Œæ”¯æŒå¹¿æ’­å’ŒåŸåœ°æ“ä½œ outæ˜¯ä»–çš„è¯­æ³•ä¸­çš„ä¸€ä¸ªï¼Œå¦‚æœ‰å…´è¶£å¯ä»¥å»äº†è§£ä¸€ä¸‹

***å¼€å¹³æ–¹ np.sqrt***
            np.sqrt(results[:real_A_block], out=results[:real_A_block])

- np.sqrt æ˜¯ NumPy ä¸­è®¡ç®—å¹³æ–¹æ ¹çš„å‡½æ•°ï¼Œoutä¹Ÿæ˜¯ä»–çš„è¯­æ³•ä¸­çš„ä¸€ä¸ªï¼Œæœ‰å…´è¶£ä¹Ÿå¯ä»¥å»äº†è§£ä¸€ä¸‹

***yieldå…³é”®å­— æš‚åœå‡½æ•°æ‰§è¡Œï¼Œè¿”å›ä¸€ä¸ªå€¼ç»™è°ƒç”¨è€…ï¼ŒåŒæ—¶ä¿æŒå‡½æ•°çš„çŠ¶æ€ï¼Œåç»­å¯ä»¥ç»§ç»­æ‰§è¡Œ***
            yield results[:real_A_block].copy() 

if __name__ == "__main__":

***astype() æ˜¯ NumPy æ•°ç»„çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥è½¬æ¢æ•°ç»„çš„æ•°æ®ç±»å‹***
    A = np.random.rand(10000, 256).astype(np.float32) 

    B = np.random.rand(10000, 256).astype(np.float32)

***enumerate() æ˜¯ Python å†…ç½®å‡½æ•°ï¼Œå¸¸ç”¨æ¥åœ¨å¾ªç¯ä¸­åŒæ—¶è·å¾—å…ƒç´ ç´¢å¼•å’Œå€¼ è¯­æ³•ï¼šenumerate(iterable, start=0) iterableï¼šä»»ä½•å¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ã€å…ƒç»„ã€ç”Ÿæˆå™¨ç­‰ startï¼šå¯é€‰å‚æ•°ï¼ŒæŒ‡å®šç´¢å¼•èµ·å§‹å€¼ï¼Œé»˜è®¤ä» 0 å¼€å§‹***

    for i, dist_block in enumerate(df(A, B, block_size=1000)): 

        print(f"ç¬¬ {i+1} å—è·ç¦»çŸ©é˜µ shape: {dist_block.shape}")

## 5.å¤æ‚ç»Ÿè®¡è®¡ç®—
***é¢˜ç›®ï¼šå®ç°ä¸€ä¸ªå‡½æ•°è®¡ç®—å¤§å‹æ•°æ®é›†çš„æ»šåŠ¨ç»Ÿè®¡é‡(å‡å€¼ï¼Œæ ‡å‡†å·®ï¼Œååº¦ï¼Œå³°åº¦)ï¼Œçª—å£ä¸º100ï¼Œæ­¥é•¿ä¸º10***

- è§£ç­”
    - 1.åˆ›å»ºæ»‘åŠ¨çª—å£
    - 2.ä½¿ç”¨ç›¸å…³å¤„ç†ç»Ÿè®¡é‡å‡½æ•°å»å¤„ç†
    - 3.ä¼˜åŒ–å†…å­˜è®¿é—®æ¨¡å¼
    - 4.å¤„ç†è¾¹ç•Œæƒ…å†µ 

***ä»£ç å±•ç¤º***
import numpy as np 

from scipy.stats import skew, kurtosis  ***#skewååº¦ kurtosiså³°åº¦***

from numpy.lib.stride_tricks import sliding_window_view  ***å¯¼å…¥æ»‘åŠ¨çª—å£çš„åº“***

def df(data,window_size=100, step=10):

***ç¡®ä¿dataä¸€å®šæ˜¯ä¸€ä¸ªæ•°ç»„***

    data = np.asarray(data)  

***.nidmè¿™æ˜¯ NumPy ä¸­çš„å±æ€§ï¼Œè¡¨ç¤ºæ•°ç»„çš„â€œç»´åº¦æ•°â€***  

***å¤„ç†è¾¹ç•Œæƒ…å†µï¼šæ•°æ®é•¿åº¦å¿…é¡» >= çª—å£å¤§å°***

    if data.ndim != 1:  

        raise ValueError ("è¾“å…¥çš„é•¿åº¦å¿…é¡»ä¸ºä¸€ç»´æ•°ç»„")

    if len(data) < window_size:

        raise ValueError ("æ•°æ®é•¿åº¦ä¸è¶³ä¸€ä¸ªçª—å£å¤§å°")

***æ„å»ºæ»‘åŠ¨çª—å£è§†å›¾ï¼ˆä¼˜åŒ–å†…å­˜è®¿é—®ï¼Œä¸å¤åˆ¶æ•°æ®ï¼‰***

    windows = sliding_window_view(data, window_shape=window_size)

***æŒ‰æ­¥é•¿æˆªå–***

    total_windows = (len(data) - window_size) // step + 1

***[:total_windows]ç”¨äºè¾¹ç•Œæ§åˆ¶***

    selected_windows = windows[::step][:total_windows] 

***è®¡ç®—ç»Ÿè®¡é‡ï¼ˆå‘é‡åŒ–)***

***ç­‰æ•ˆäº means = np.mean(selected_windows,axis=1)***

    means = selected_windows.mean(axis=1) 

    stds = np.std(selected_windows,axis=1)

    skews = skew(selected_windows, axis=1, bias=False)

    kurtoes = kurtosis(selected_windows, axis=1, bias=False)

***è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œç”¨äºå­˜æ”¾é”®å€¼å¯¹***

    return {
        'means':means,
        'stds':stds,
        'skews':skews,
        'kurtosis':kurtoes
    }

data = np.random.rand(1000000)

dfc = df(data,window_size=100,step=10)

print("dfcçš„means:",dfc['means'])

print("dfcçš„stds:",dfc['stds'])

print("dfcçš„skews:",dfc['skews'])

print("kurtosis:",dfc['kurtosis'])






    

